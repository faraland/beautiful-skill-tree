'use strict';
function e(e) {
  return e && 'object' == typeof e && 'default' in e ? e.default : e;
}
Object.defineProperty(exports, '__esModule', { value: !0 });
var n = require('react'),
  t = e(n),
  r = require('uuid'),
  o = require('styled-components'),
  i = e(o),
  u = require('lodash'),
  l = e(require('@tippy.js/react'));
function a() {
  return (a =
    Object.assign ||
    function(e) {
      for (var n = 1; n < arguments.length; n++) {
        var t = arguments[n];
        for (var r in t)
          Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
      }
      return e;
    }).apply(this, arguments);
}
function c(e, n) {
  return n || (n = e.slice(0)), (e.raw = n), e;
}
function d(e, n) {
  switch (n.type) {
    case 'SELECT_REQUIRED_SKILL':
      return a({}, e, {
        selectedSkillCount: {
          optional: e.selectedSkillCount.optional,
          required: e.selectedSkillCount.required + 1,
        },
      });
    case 'DESELECT_REQUIRED_SKILL':
      return a({}, e, {
        selectedSkillCount: {
          optional: e.selectedSkillCount.optional,
          required: e.selectedSkillCount.required - 1,
        },
      });
    case 'SELECT_OPTIONAL_SKILL':
      return a({}, e, {
        selectedSkillCount: {
          optional: e.selectedSkillCount.optional + 1,
          required: e.selectedSkillCount.required,
        },
      });
    case 'DESELECT_OPTIONAL_SKILL':
      return a({}, e, {
        selectedSkillCount: {
          optional: e.selectedSkillCount.optional - 1,
          required: e.selectedSkillCount.required,
        },
      });
    case 'RESET_SKILLS':
      return f;
    default:
      return e;
  }
}
require('tippy.js/dist/tippy.css'),
  require('tippy.js/animations/shift-away.css');
var s = n.createContext({
    skillCount: { required: 0, optional: 0 },
    addToSkillCount: function() {},
    selectedSkillCount: { required: 0, optional: 0 },
    dispatch: function() {
      return '';
    },
    resetId: '',
    resetSkills: function() {},
  }),
  f = { selectedSkillCount: { required: 0, optional: 0 } };
function p(e) {
  var t = e.children,
    o = n.useState(''),
    i = o[0],
    u = o[1],
    l = n.useState({ required: 0, optional: 0 }),
    a = l[0],
    c = l[1],
    p = n.useReducer(d, f),
    h = p[1];
  return n.createElement(
    s.Provider,
    {
      value: {
        skillCount: a,
        dispatch: h,
        addToSkillCount: function(e) {
          return c(function(n) {
            return {
              required: n.required + e.required,
              optional: n.optional + e.optional,
            };
          });
        },
        selectedSkillCount: p[0].selectedSkillCount,
        resetId: i,
        resetSkills: function() {
          h({ type: 'RESET_SKILLS' }), u(r.v4());
        },
      },
    },
    t
  );
}
var h = {
    backgroundColor: 'transparent',
    border: '2px solid white',
    borderRadius: '4px',
    primaryFont:
      "-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n  'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",
    primaryFontColor: 'white',
    treeBackgroundColor: '#282c34',
    disabledTreeOpacity: 0.8,
    headingFont:
      "-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",
    headingFontColor: 'white',
    headingFontSize: '24px',
    headingHoverColor: '#35373b',
    headingHoverColorTransition: 'background 0.3s ease-out',
    tooltipBackgroundColor: 'white',
    tooltipFontColor: '#16181c',
    tooltipZIndex: 99999,
    nodeBackgroundColor: '#282c34',
    nodeBorderColor: 'white',
    nodeAlternativeFontColor: 'white',
    nodeAltenativeActiveFontColor: 'white',
    nodeOverlayColor: 'white',
    nodeAlternativeActiveBackgroundColor:
      '\n  linear-gradient(\n    to right,\n    #b9e562 0%,\n    #41e2bd 50%,\n    #c284d8 100%\n  )',
    nodeActiveBackgroundColor:
      'linear-gradient(\n      to right,\n      #b9e562 0%,\n      #41e2bd 50%,\n      #c284d8 100%\n    )',
    nodeHoverBorder: '4px solid',
    nodeHoverBorderColor:
      'linear-gradient(\n      to right,\n      #b9e562 0%,\n      #41e2bd 50%,\n      #c284d8 100%\n    )',
    nodeIconWidth: '64px',
    nodeMobileTextNodeHeight: '32px',
    nodeMobileTextNodeWidth: '108px',
    nodeMobileFontSize: '14px',
    nodeDesktopTextNodeHeight: '28px',
    nodeDesktopTextNodeWidth: '144px',
    nodeDesktopFontSize: '16px',
    edgeBorder: '1px solid white',
  },
  m = n.createContext({
    filtersMatches: null,
    handleFilter: function() {
      return null;
    },
    addToSkillMap: function() {
      return null;
    },
  });
function g(e) {
  var t = n.useState({}),
    r = t[0],
    o = t[1],
    i = n.useState(null),
    u = i[1];
  return n.createElement(
    m.Provider,
    {
      value: {
        filtersMatches: i[0],
        handleFilter: function(e) {
          if ('' === e.trim()) return u(null);
          var n = e.toLowerCase(),
            t = Object.keys(r).filter(function(e) {
              return e.includes(n);
            }),
            o = new Set(
              t.map(function(e) {
                return r[e];
              })
            );
          return u(o);
        },
        addToSkillMap: function(e) {
          return o(function(n) {
            return a({}, n, {}, e);
          });
        },
      },
    },
    e.children
  );
}
function v() {
  var e = c([
    '\n  display: flex;\n  flex-wrap: wrap;\n  font-family: ',
    ';\n  color: ',
    ';\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  justify-content: center;\n  margin: 0 0 48px;\n  min-width: fit-content;\n',
  ]);
  return (
    (v = function() {
      return e;
    }),
    e
  );
}
function b(e) {
  var t = e.theme,
    r = e.children,
    i = n.useContext(s),
    u = i.skillCount,
    l = i.selectedSkillCount,
    c = i.resetSkills,
    d = n.useContext(m).handleFilter,
    f = n.useMemo(
      function() {
        return a({}, h, {}, t);
      },
      [t]
    );
  return n.createElement(
    o.ThemeProvider,
    { theme: f },
    n.createElement(
      k,
      null,
      r({
        skillCount: u,
        selectedSkillCount: l,
        resetSkills: c,
        handleFilter: d,
      })
    )
  );
}
b.defaultProps = { theme: h };
var k = i.div(
    v(),
    function(e) {
      return e.theme.primaryFont;
    },
    function(e) {
      return e.theme.primaryFontColor;
    }
  ),
  x = 'locked',
  C = 'unlocked',
  S = 'selected';
function E() {
  var e = c(['\n  margin: 8px 0;\n']);
  return (
    (E = function() {
      return e;
    }),
    e
  );
}
function y() {
  var e = c(['\n  margin: 8px 0;\n']);
  return (
    (y = function() {
      return e;
    }),
    e
  );
}
var w = n.memo(function(e) {
    var t = e.content,
      r = e.handleClose;
    return n.createElement(
      n.Fragment,
      null,
      n.createElement(
        'div',
        { style: { display: 'flex', justifyContent: 'space-between' } },
        n.createElement(L, null, e.title),
        n.createElement('img', {
          onClick: r,
          style: {
            width: '16px',
            margin: '21px 4px auto 0',
            cursor: 'pointer',
          },
          src:
            "data:image/svg+xml,%3c%3fxml version='1.0' encoding='iso-8859-1'%3f%3e%3c!-- Generator: Adobe Illustrator 19.0.0%2c SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3e%3csvg version='1.1' id='Capa_1' fill='white' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 47.971 47.971' style='enable-background:new 0 0 47.971 47.971%3b' xml:space='preserve'%3e%3cg%3e %3cpath d='M28.228%2c23.986L47.092%2c5.122c1.172-1.171%2c1.172-3.071%2c0-4.242c-1.172-1.172-3.07-1.172-4.242%2c0L23.986%2c19.744L5.121%2c0.88 c-1.172-1.172-3.07-1.172-4.242%2c0c-1.172%2c1.171-1.172%2c3.071%2c0%2c4.242l18.865%2c18.864L0.879%2c42.85c-1.172%2c1.171-1.172%2c3.071%2c0%2c4.242 C1.465%2c47.677%2c2.233%2c47.97%2c3%2c47.97s1.535-0.293%2c2.121-0.879l18.865-18.864L42.85%2c47.091c0.586%2c0.586%2c1.354%2c0.879%2c2.121%2c0.879 s1.535-0.293%2c2.121-0.879c1.172-1.171%2c1.172-3.071%2c0-4.242L28.228%2c23.986z'/%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3c/svg%3e",
          alt: 'icon',
        })
      ),
      n.createElement(I, null, t)
    );
  }),
  L = i.h1(y()),
  I = i.div(E()),
  T = function() {
    var e = n.useState(Infinity),
      t = e[0],
      r = e[1];
    return (
      n.useEffect(function() {
        r(window.innerWidth);
        var e = u.throttle(function() {
          r(window.innerWidth);
        }, 500);
        return (
          window.addEventListener('resize', e),
          function() {
            window.removeEventListener('resize', e);
          }
        );
      }, []),
      t < 1200
    );
  };
function q() {
  var e = c([
    '\n  background-color: ',
    ';\n  border: ',
    ';\n  border-image-source: ',
    ';\n  border-image-slice: 1;\n  border-radius: ',
    ';\n  padding: 0 8px;\n  text-align: left;\n  width: 320px;\n\n  .tippy-backdrop {\n    background-color: ',
    ';\n  }\n',
  ]);
  return (
    (q = function() {
      return e;
    }),
    e
  );
}
function B(e) {
  var r = e.children,
    i = e.tooltip,
    u = e.title,
    l = i.direction,
    a = void 0 === l ? 'top' : l,
    c = i.content,
    d = n.useContext(o.ThemeContext).tooltipZIndex,
    s = n.useRef(null),
    f = T(),
    p = t.useMemo(
      function() {
        return f ? 'top' : a;
      },
      [f, a]
    );
  function h() {
    if (s.current) return s.current.hide();
  }
  var m = t.useMemo(
    function() {
      return t.createElement(w, { handleClose: h, content: c, title: u });
    },
    [c, u]
  );
  return t.createElement(
    P,
    {
      interactive: !0,
      placement: p,
      onCreate: function(e) {
        s.current = e;
      },
      hideOnClick: !1,
      animation: 'shift-away',
      arrow: !1,
      appendTo: document.body,
      touch: 'hold',
      zIndex: d,
      content: m,
    },
    r
  );
}
var P = i(l)(
  q(),
  function(e) {
    return e.theme.treeBackgroundColor;
  },
  function(e) {
    return e.theme.border;
  },
  function(e) {
    return e.theme.nodeHoverBorderColor;
  },
  function(e) {
    return e.theme.borderRadius;
  },
  function(e) {
    return e.theme.treeBackgroundColor;
  }
);
function F() {
  var e = c([
    '\n  pointer-events: none;\n  height: 75%;\n  margin: auto;\n  width: 75%;\n',
  ]);
  return (
    (F = function() {
      return e;
    }),
    e
  );
}
function D() {
  var e = c(['\n  display: flex;\n']);
  return (
    (D = function() {
      return e;
    }),
    e
  );
}
var N = t.memo(function(e) {
    return t.createElement(
      R,
      { 'data-testid': 'icon-container', containerWidth: e.containerWidth },
      t.createElement(_, { src: e.src, alt: e.title })
    );
  }),
  R = i.div.attrs(function(e) {
    return {
      style: {
        height: e.containerWidth + 'px',
        width: e.containerWidth + 'px',
      },
    };
  })(D()),
  _ = i.img(F());
function O() {
  var e = c(['\n      color: ', ';\n    ']);
  return (
    (O = function() {
      return e;
    }),
    e
  );
}
function M() {
  var e = c(['\n  color: ', ';\n\n  ', ';\n']);
  return (
    (M = function() {
      return e;
    }),
    e
  );
}
function z() {
  var e = c([
    '\n  font-size: ',
    ';\n  text-overflow: ellipsis;\n  margin: 0;\n  overflow: hidden;\n  padding: 0 8px;\n  white-space: nowrap;\n\n  @media (min-width: 900px) {\n    font-size: ',
    ';\n  }\n',
  ]);
  return (
    (z = function() {
      return e;
    }),
    e
  );
}
function H() {
  var e = c([
    '\n  align-items: center;\n  display: flex;\n  font-weight: 600;\n  justify-content: center;\n  height: ',
    ';\n  width: ',
    ';\n\n  @media (min-width: 900px) {\n    height: ',
    ';\n    width: ',
    ';\n  }\n',
  ]);
  return (
    (H = function() {
      return e;
    }),
    e
  );
}
function A() {
  var e = c([
    '\n  background-color: black;\n  position: absolute;\n  padding: 5px 10px;\n  border-radius: 4px;\n  font-size: 14px;\n  bottom: -10px;\n  right: -25px;\n  z-index: 99;\n',
  ]);
  return (
    (A = function() {
      return e;
    }),
    e
  );
}
function V() {
  var e = c(['\n  width: ', ';\n']);
  return (
    (V = function() {
      return e;
    }),
    e
  );
}
function j() {
  var e = c(['\n        background: ', ';\n      ']);
  return (
    (j = function() {
      return e;
    }),
    e
  );
}
function K() {
  var e = c([
    '\n      animation: ',
    ' 1s infinite alternate;\n      box-shadow: 0 0 6px 0 rgba(255, 255, 255, 0.5);\n\n      &:after,\n      &:before {\n        border: 0 solid;\n        border-image-source: ',
    ";\n        border-image-slice: 1;\n        content: ' ';\n        opacity: 0;\n        height: 0;\n        transition: opacity 0.6s, width 0.6s, height 0.6s;\n        position: absolute;\n        width: 0;\n      }\n\n      &:after {\n        border-top: ",
    ';\n        border-left: ',
    ';\n        top: 0;\n        left: 0;\n      }\n\n      &:before {\n        bottom: 0px;\n        right: 0px;\n        border-bottom: ',
    ';\n        border-right: ',
    ';\n      }\n\n      &:hover,\n      &:focus {\n        animation: none;\n        box-shadow: 0 0 12px 0 rgba(255, 255, 255, 1);\n\n        &:after,\n        &:before {\n          opacity: 1;\n          height: 85%;\n          transition: width 0.6s, height 0.6s;\n          width: ',
    ';\n        }\n      }\n    ',
  ]);
  return (
    (K = function() {
      return e;
    }),
    e
  );
}
function W() {
  var e = c(['\n      animation: ', ' 1s 1;\n      background: ', ';\n    ']);
  return (
    (W = function() {
      return e;
    }),
    e
  );
}
function U() {
  var e = c([
    '\n  background: ',
    ';\n  border: 2px solid;\n  border-color: ',
    ';\n  box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0);\n  border-radius: ',
    ';\n  cursor: pointer;\n  display: flex;\n  margin: 0 3px;\n  outline: none;\n  position: relative;\n  transition: box-shadow 0.6s, opacity 1s;\n  user-select: none;\n\n  @media (min-width: 410px) {\n    margin: 0 8px;\n  }\n\n  @media (min-width: 900px) {\n    margin: 0 16px;\n    outline: initial;\n    outline-color: white;\n  }\n\n  ',
    '\n\n  ',
    '\n\n    ',
    '\n\n  ',
    '\n',
  ]);
  return (
    (U = function() {
      return e;
    }),
    e
  );
}
function Q() {
  var e = c([
    '\n  from,\n  20% {\n    box-shadow: 0 0 8px 0 rgba(255, 255, 255, 0.5);\n  }\n\n  to {\n    box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0.5);\n  }\n',
  ]);
  return (
    (Q = function() {
      return e;
    }),
    e
  );
}
function G() {
  var e = c([
    '\n  from {\n    box-shadow: 0 0 18px 0 rgba(255, 255, 255, 1);\n  }\n\n  20% {\n    box-shadow: 0 0 24px 0 rgba(255, 255, 255, 1);\n  }\n\n  to {\n    box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0);\n  }\n',
  ]);
  return (
    (G = function() {
      return e;
    }),
    e
  );
}
var X = require('styled-components').keyframes,
  Y = require('styled-components').css,
  Z = n.forwardRef(function(e, t) {
    var r = e.handleClick,
      o = e.id,
      i = e.currentState,
      u = e.skill,
      l = u.color,
      a = void 0 === l ? 'default' : l,
      c = n.useState(!1),
      d = c[0],
      s = c[1],
      f = n.useCallback(
        function(e) {
          13 === e.keyCode && r();
        },
        [r]
      );
    return (
      n.useEffect(function() {
        s(
          (function() {
            var e = [
              'iPad Simulator',
              'iPhone Simulator',
              'iPod Simulator',
              'iPad',
              'iPhone',
              'iPod',
            ];
            if (navigator.platform)
              for (; e.length; ) if (navigator.platform === e.pop()) return !0;
            return !1;
          })()
        );
      }, []),
      n.createElement(
        ee,
        {
          onClick: r,
          onKeyDown: f,
          ref: t,
          tabIndex: 0,
          'data-testid': o,
          optional: u.optional || !1,
          isIOS: d,
          selected: i === S,
          unlocked: i === C,
          locked: i === x,
          color: a,
        },
        'icon' in u
          ? n.createElement(
              ne,
              null,
              n.createElement(N, {
                title: 'node-icon',
                src: u.icon,
                containerWidth: 64,
              }),
              n.createElement(te, null, u.learned, '/', u.levels.length)
            )
          : n.createElement(
              re,
              null,
              'default' === a
                ? n.createElement(oe, null, u.title)
                : n.createElement(ie, { selected: i === S }, u.title)
            )
      )
    );
  }),
  J = X(G()),
  $ = X(Q()),
  ee = i.div(
    U(),
    function(e) {
      return e.theme.nodeBackgroundColor;
    },
    function(e) {
      return e.theme.nodeBorderColor;
    },
    function(e) {
      return e.theme.borderRadius;
    },
    function(e) {
      return (
        e.selected &&
        Y(W(), J, function(n) {
          var t = n.theme;
          return 'default' === e.color
            ? t.nodeActiveBackgroundColor
            : t.nodeAlternativeActiveBackgroundColor;
        })
      );
    },
    function(e) {
      return (
        e.unlocked &&
        Y(
          K(),
          $,
          function(e) {
            return e.theme.nodeHoverBorderColor;
          },
          function(e) {
            return e.theme.nodeHoverBorder;
          },
          function(e) {
            return e.theme.nodeHoverBorder;
          },
          function(e) {
            return e.theme.nodeHoverBorder;
          },
          function(e) {
            return e.theme.nodeHoverBorder;
          },
          function(e) {
            return e.isIOS ? 0 : '95%';
          }
        )
      );
    },
    function(e) {
      return (
        e.unlocked &&
        e.optional &&
        Y(j(), function(e) {
          return e.theme.nodeBackgroundColor;
        })
      );
    },
    function(e) {
      return (
        e.locked && '\n        cursor: initial;\n        opacity: 0.65;\n    '
      );
    }
  ),
  ne = i.div(V(), function(e) {
    return e.theme.nodeIconNodeWidth;
  }),
  te = i.div(A()),
  re = i.div(
    H(),
    function(e) {
      return e.theme.nodeMobileTextNodeHeight;
    },
    function(e) {
      return e.theme.nodeMobileTextNodeWidth;
    },
    function(e) {
      return e.theme.nodeDesktopTextNodeHeight;
    },
    function(e) {
      return e.theme.nodeDesktopTextNodeWidth;
    }
  ),
  oe = i.p(
    z(),
    function(e) {
      return e.theme.nodeMobileFontSize;
    },
    function(e) {
      return e.theme.nodeDesktopFontSize;
    }
  ),
  ie = i(oe)(
    M(),
    function(e) {
      return e.theme.nodeAlternativeFontColor;
    },
    function(e) {
      return (
        e.selected &&
        Y(O(), function(e) {
          return e.theme.nodeAltenativeActiveFontColor;
        })
      );
    }
  );
function ue() {
  var e = c([
    '\n  display: flex;\n  justify-content: center;\n  position: relative;\n',
  ]);
  return (
    (ue = function() {
      return e;
    }),
    e
  );
}
function le() {
  var e = c([
    '\n  margin: 0 auto;\n  position: relative;\n  width: fit-content;\n',
  ]);
  return (
    (le = function() {
      return e;
    }),
    e
  );
}
function ae(e) {
  var t = e.skill,
    r = e.nodeState,
    o = e.currentLevel,
    i = e.incSkillCount,
    l = e.updateSkillState,
    a = e.handleNodeSelect,
    c =
      void 0 === a
        ? function() {
            return null;
          }
        : a,
    d = t.children,
    s = t.title,
    f = t.tooltip,
    p = t.id,
    h = t.optional,
    m = n.useState(0),
    g = m[0],
    v = m[1],
    b = n.useState(t.learned),
    k = b[0],
    E = b[1],
    y = n.useRef(null),
    w = n.useRef(0);
  function L() {
    var e = y.current.getBoundingClientRect(),
      n = e.left,
      t = window.scrollX;
    v((e.right - n) / 2 + n + t);
  }
  function I() {
    w.current = y.current.clientWidth;
  }
  function T() {
    L(), I();
  }
  n.useEffect(function() {
    var e = u.throttle(T, 200);
    return (
      L(),
      I(),
      window.addEventListener('resize', e),
      function() {
        window.removeEventListener('resize', e);
      }
    );
  }, []),
    n.useEffect(
      function() {
        if (k === t.levels.length) return i(h), c(p, S, t), l(p, S, h);
      },
      [k]
    );
  var q = d.length > 1;
  return n.createElement(
    n.Fragment,
    null,
    n.createElement(
      de,
      null,
      n.createElement(
        B,
        { title: s, tooltip: f },
        n.createElement(Z, {
          handleClick: function() {
            return r === x
              ? null
              : r === C && k < t.levels.length
              ? (E(k + 1), console.log(k), c(p, C, t), l(p, C, h))
              : (c(p, C, t), l(p, C, h));
          },
          id: p,
          currentState: r,
          skill: t,
          ref: y,
        })
      )
    ),
    d.length > 0 &&
      n.createElement(
        se,
        null,
        d.map(function(e) {
          return n.createElement(Ze, {
            key: e.id,
            hasParent: !0,
            currentLevel: o,
            parentPosition: g,
            parentHasMultipleChildren: q,
            shouldBeUnlocked: r === S && o >= e.requiredLevel,
            skill: e,
          });
        })
      )
  );
}
var ce = n.memo(ae),
  de = i.div(le()),
  se = i.div(ue());
function fe() {
  var e = c([
    '\n      animation: ',
    ' 1.2s 1 ease-out;\n      background-position: left bottom;\n    ',
  ]);
  return (
    (fe = function() {
      return e;
    }),
    e
  );
}
function pe() {
  var e = c([
    '\n  background: linear-gradient(\n    to right,\n    rgba(255, 255, 255, 1) 0%,\n    rgba(255, 255, 255, 1) 50%,\n    rgba(255, 255, 255, 0) 51%,\n    rgba(255, 255, 255, 0) 100%\n  );\n  background-size: 210% 100%;\n  background-position: right top;\n  border: ',
    ';\n  height: 4px;\n  opacity: 0.5;\n  transform: rotate(90deg);\n  transform-origin: 0 0;\n  transition: opacity 0.6s;\n  width: 56px;\n\n  ',
    '\n\n  ',
    '\n',
  ]);
  return (
    (pe = function() {
      return e;
    }),
    e
  );
}
function he() {
  var e = c([
    '\n  from,\n  50% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n',
  ]);
  return (
    (he = function() {
      return e;
    }),
    e
  );
}
function me() {
  var e = c([
    '\n  height: 56px;\n  left: 4px;\n  margin: 0 auto;\n  position: relative;\n  width: 4px;\n',
  ]);
  return (
    (me = function() {
      return e;
    }),
    e
  );
}
var ge = require('styled-components').keyframes,
  ve = require('styled-components').css;
function be(e) {
  var n = e.state;
  return t.createElement(
    ke,
    null,
    t.createElement(Ce, {
      'data-testid': 'straight-line',
      selected: n === S,
      unlocked: n !== x,
    })
  );
}
var ke = i.div(me()),
  xe = ge(he()),
  Ce = i.div(
    pe(),
    function(e) {
      return e.theme.edgeBorder;
    },
    function(e) {
      return e.selected && ve(fe(), xe);
    },
    function(e) {
      return e.unlocked && '\n      opacity: 1;\n    ';
    }
  );
function Se() {
  var e = c([
    '\n  background: linear-gradient(\n    to right,\n    rgba(255, 255, 255, 1) 0%,\n    rgba(255, 255, 255, 1) 50%,\n    rgba(255, 255, 255, 0) 51%,\n    rgba(255, 255, 255, 0) 100%\n  );\n  background-size: 210% 100%;\n  background-position: right top;\n  border: ',
    ';\n  height: 4px;\n  position: absolute;\n  opacity: 0.5;\n  transition: opacity 0.6s;\n\n  ',
    '\n',
  ]);
  return (
    (Se = function() {
      return e;
    }),
    e
  );
}
var Ee = i.div(
  Se(),
  function(e) {
    return e.theme.edgeBorder;
  },
  function(e) {
    return e.unlocked && '\n      opacity: 1;\n  ';
  }
);
function ye() {
  var e = c([
    '\n  from,\n  33% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n',
  ]);
  return (
    (ye = function() {
      return e;
    }),
    e
  );
}
function we() {
  var e = c([
    '\n      animation: ',
    ' 0.3s 1 ease-in;\n      background-position: left bottom;\n    ',
  ]);
  return (
    (we = function() {
      return e;
    }),
    e
  );
}
function Le() {
  var e = c([
    '\n  transform: rotate(90deg) translateY(-50%);\n  transform-origin: 0 0;\n  left: 50%;\n  top: -1px;\n  width: 29px;\n\n  ',
    '\n\n  ',
    '\n\n  ',
    '\n',
  ]);
  return (
    (Le = function() {
      return e;
    }),
    e
  );
}
var Ie = require('styled-components').keyframes,
  Te = require('styled-components').css;
function qe(e) {
  var n = e.state;
  return t.createElement(Be, {
    'data-testid': 'upper-angled-line',
    direction: e.direction,
    selected: n === S,
    unlocked: n !== x,
  });
}
var Be = i(Ee)(
    Le(),
    function(e) {
      return (
        'right' === e.direction &&
        '\n      border-bottom-right-radius: 8px;\n    '
      );
    },
    function(e) {
      return (
        'left' === e.direction && '\n      border-top-right-radius: 8px;\n    '
      );
    },
    function(e) {
      return e.selected && Te(we(), Pe);
    }
  ),
  Pe = Ie(ye());
function Fe() {
  var e = c([
    '\n  from,\n  30% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n',
  ]);
  return (
    (Fe = function() {
      return e;
    }),
    e
  );
}
function De() {
  var e = c([
    '\n      animation: ',
    ' 1s 1;\n      background-position: left bottom;\n    ',
  ]);
  return (
    (De = function() {
      return e;
    }),
    e
  );
}
function Ne() {
  var e = c([
    '\n  border-left: none;\n  border-right: none;\n  top: 24px;\n  left: 50%;\n  width: ',
    'px;\n  transform: translateX(3px) scale(-1);\n\n  ',
    '\n\n  ',
    '\n',
  ]);
  return (
    (Ne = function() {
      return e;
    }),
    e
  );
}
var Re = require('styled-components').keyframes,
  _e = require('styled-components').css;
function Oe(e) {
  var n = e.direction,
    r = e.parentPosition,
    o = e.childPosition,
    i = e.state;
  return t.createElement(Me, {
    'data-testid': 'middle-angled-line',
    direction: n,
    unlocked: i !== x,
    selected: i === S,
    width: 'left' === n ? r - o - 6 : o - r - 6,
  });
}
var Me = i(Ee)(
    Ne(),
    function(e) {
      return e.width;
    },
    function(e) {
      return (
        'right' === e.direction &&
        '\n      transform: translateX(-3px) scale(-1);\n      transform-origin: 0;\n  '
      );
    },
    function(e) {
      return e.selected && _e(De(), ze);
    }
  ),
  ze = Re(Fe());
function He() {
  var e = c([
    '\n  from,\n  70% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n',
  ]);
  return (
    (He = function() {
      return e;
    }),
    e
  );
}
function Ae() {
  var e = c([
    '\n        animation: ',
    ' 1.2s 1 ease-out;\n        background-position: left bottom;\n      ',
  ]);
  return (
    (Ae = function() {
      return e;
    }),
    e
  );
}
function Ve() {
  var e = c([
    '\n  transform: rotate(90deg) translateY(-50%);\n  transform-origin: 0 0;\n  left: 50%;\n  top: 24px;\n  width: 31px;\n\n  ',
    '\n\n  ',
    '\n\n    ',
    '\n',
  ]);
  return (
    (Ve = function() {
      return e;
    }),
    e
  );
}
var je = require('styled-components').keyframes,
  Ke = require('styled-components').css;
function We(e) {
  var n = e.state;
  return t.createElement(Ue, {
    unlocked: n !== x,
    direction: e.direction,
    'data-testid': 'lower-angled-line',
    selected: n === S,
  });
}
var Ue = i(Ee)(
    Ve(),
    function(e) {
      return (
        'right' === e.direction &&
        '\n        border-top-left-radius: 8px;\n      '
      );
    },
    function(e) {
      return (
        'left' === e.direction &&
        '\n      border-bottom-left-radius: 8px;\n    '
      );
    },
    function(e) {
      return e.selected && Ke(Ae(), Qe);
    }
  ),
  Qe = je(He());
function Ge(e) {
  var r = e.state,
    o = e.childNodeRef,
    i = e.parentPosition;
  if (!e.parentHasMultipleChildren) return t.createElement(be, { state: r });
  var l = n.useState(0),
    a = l[0],
    c = l[1],
    d = i < a ? 'right' : 'left';
  function s() {
    var e = o.current.getBoundingClientRect(),
      n = window.scrollX;
    c(e.left + e.width / 2 + n);
  }
  return (
    n.useEffect(function() {
      var e = u.throttle(s, 200);
      return (
        window.addEventListener('resize', e),
        s(),
        function() {
          window.removeEventListener('resize', e);
        }
      );
    }, []),
    t.createElement(
      'div',
      { style: { height: '56px' } },
      t.createElement(qe, { state: r, direction: d }),
      t.createElement(
        'div',
        { style: { position: 'relative' } },
        t.createElement(Oe, {
          parentPosition: i,
          childPosition: a,
          state: r,
          direction: d,
        }),
        t.createElement(We, { direction: d, state: r })
      )
    )
  );
}
var Xe = n.createContext({
    mounting: !0,
    skills: {},
    skillCount: 0,
    selectedCount: 0,
    updateSkillState: function() {},
    setSkillCount: function() {},
    handleNodeSelect: function() {},
    incrementSelectedCount: function() {},
    decrementSelectedCount: function() {},
  }),
  Ye = (function(e) {
    var t, r;
    function o(n, t) {
      var r;
      return (
        ((r = e.call(this, n, t) || this).storage = null),
        (r.getTreeSkills = function() {
          if (r.props.savedData) return r.props.savedData;
          var e = r.storage.getItem('skills-' + r.props.treeId);
          return 'undefined' === e || null === e ? {} : JSON.parse(e);
        }),
        (r.incrementSelectedCount = function(e) {
          void 0 === e && (e = !1);
          var n = {
            type: e ? 'SELECT_OPTIONAL_SKILL' : 'SELECT_REQUIRED_SKILL',
          };
          r.setState(function(e) {
            return { selectedCount: e.selectedCount + 1 };
          }),
            r.context.dispatch(n);
        }),
        (r.decrementSelectedCount = function(e) {
          void 0 === e && (e = !1);
          var n = {
            type: e ? 'DESELECT_OPTIONAL_SKILL' : 'DESELECT_REQUIRED_SKILL',
          };
          r.setState(function(e) {
            return { selectedCount: e.selectedCount - 1 };
          }),
            r.context.dispatch(n);
        }),
        (r.resetSkills = function() {
          return r.setState(function(e) {
            return {
              skills: u.mapValues(e.skills, function(e) {
                return { optional: e.optional, nodeState: x };
              }),
              resetId: r.context.resetId,
            };
          });
        }),
        (r.setSkillCount = function(e) {
          return r.setState({ skillCount: e });
        }),
        (r.handleNodeSelect = function(e, n, t) {
          return r.props.sendNodeSelectDataToClient({
            key: e,
            state: n,
            skill: t,
          });
        }),
        (r.updateSkillState = function(e, n, t) {
          void 0 === t && (t = !1);
          var o = r.props,
            i = o.handleSave,
            u = o.treeId;
          return r.setState(function(o) {
            var l,
              c = a(
                {},
                o.skills,
                (((l = {})[e] = { optional: t, nodeState: n }), l)
              );
            return i(r.storage, u, c), { skills: c };
          });
        }),
        (r.state = {
          skills: {},
          skillCount: 0,
          selectedCount: 0,
          resetId: t.resetId,
          mounting: !0,
        }),
        r
      );
    }
    (r = e),
      ((t = o).prototype = Object.create(r.prototype)),
      (t.prototype.constructor = t),
      (t.__proto__ = r);
    var i = o.prototype;
    return (
      (i.componentDidMount = function() {
        var e = this.context;
        this.storage = this.props.storage || localStorage;
        var n = this.getTreeSkills(),
          t = 0;
        return (
          Object.keys(n).map(function(r) {
            n[r].nodeState === S &&
              (t++,
              e.dispatch({
                type: n[r].optional
                  ? 'SELECT_OPTIONAL_SKILL'
                  : 'SELECT_REQUIRED_SKILL',
              }));
          }),
          this.setState({ skills: n, selectedCount: t, mounting: !1 }),
          null
        );
      }),
      (i.componentDidUpdate = function() {
        this.context.resetId !== this.state.resetId && this.resetSkills();
      }),
      (i.render = function() {
        return n.createElement(
          Xe.Provider,
          {
            value: {
              mounting: this.state.mounting,
              skills: this.state.skills,
              skillCount: this.state.skillCount,
              selectedCount: this.state.selectedCount,
              updateSkillState: this.updateSkillState,
              setSkillCount: this.setSkillCount,
              handleNodeSelect: this.handleNodeSelect,
              incrementSelectedCount: this.incrementSelectedCount,
              decrementSelectedCount: this.decrementSelectedCount,
            },
          },
          this.props.children
        );
      }),
      o
    );
  })(n.Component);
function Ze(e) {
  var r = e.skill,
    o = e.hasParent,
    i = e.parentHasMultipleChildren,
    l = e.parentPosition,
    a = e.shouldBeUnlocked,
    c = e.currentLevel,
    d = n.useContext(Xe),
    s = d.mounting,
    f = d.skills,
    p = d.updateSkillState,
    h = d.decrementSelectedCount,
    m = d.incrementSelectedCount,
    g = d.handleNodeSelect,
    v = n.useRef(null),
    b = f[r.id] ? f[r.id].nodeState : 'locked';
  return (
    n.useEffect(
      function() {
        if (!s) {
          if (b === S && !a) return h(), p(r.id, x, r.optional);
          if (b === C && !a) return p(r.id, x, r.optional);
          if (a) return b === x && a ? p(r.id, C, r.optional) : void 0;
        }
      },
      [b, a, s]
    ),
    n.useEffect(
      function() {
        if (!s) return u.isEmpty(f) ? p(r.id, C) : void 0;
      },
      [s]
    ),
    t.createElement(
      'div',
      { style: { margin: o ? '' : '16px 0' } },
      o &&
        t.createElement(Ge, {
          parentHasMultipleChildren: i,
          state: b,
          childNodeRef: v,
          parentPosition: l,
        }),
      t.createElement(
        'div',
        { ref: v },
        t.createElement(ce, {
          incSkillCount: n.useCallback(m, []),
          decSkillCount: n.useCallback(h, []),
          updateSkillState: p,
          currentLevel: c,
          skill: r,
          nodeState: b,
          handleNodeSelect: g,
        })
      )
    )
  );
}
function Je(e) {
  return n.createElement(
    'div',
    { style: { height: '2px' } },
    e.display &&
      n.createElement('hr', {
        style: { margin: 0 },
        'data-testid': 'h-separator',
      })
  );
}
function $e() {
  var e = c([
    '\n      transition: transform 0.15s ease-out, opacity 0.15s ease-out,\n        max-height 0.15s ease-out, visibility 0.15s 0.15s ease-out;\n      transform: scaleY(0);\n      visibility: hidden;\n      max-height: 0;\n      width: 304px;\n      opacity: 0;\n    ',
  ]);
  return (
    ($e = function() {
      return e;
    }),
    e
  );
}
function en() {
  var e = c([
    '\n  transition: transform 0.15s ease-out, opacity 0.15s ease-out,\n    max-height 0.15s ease-out, visibility 0.15s ease-out;\n  height: auto;\n  max-height: 10000px;\n  min-width: 304px;\n  opacity: 1;\n  overflow: hidden;\n  visibility: visible;\n  transform: scaleY(1);\n  transform-origin: top;\n\n  ',
    '\n',
  ]);
  return (
    (en = function() {
      return e;
    }),
    e
  );
}
(Ye.contextType = s),
  (Ye.defaultProps = {
    handleSave: function(e, n, t) {
      return e.setItem('skills-' + n, JSON.stringify(t));
    },
    sendNodeSelectDataToClient: function() {
      return null;
    },
  }),
  (Ze.defaultProps = { hasParent: !0 });
var nn = require('styled-components').css;
function tn(e) {
  var r = e.isVisible,
    o = e.children,
    i = n.useState(r),
    u = i[0],
    l = i[1];
  return (
    n.useEffect(
      function() {
        r && l(!0);
      },
      [r, l]
    ),
    u
      ? t.createElement(
          rn,
          { 'data-testid': 'visibility-container', isVisible: r },
          o
        )
      : null
  );
}
var rn = i.div(en(), function(e) {
  return !e.isVisible && nn($e());
});
function on(e) {
  var t = e.data,
    r = n.useContext(s).addToSkillCount,
    o = n.useContext(Xe).setSkillCount;
  return (
    n.useEffect(function() {
      var e = (function e(n) {
        return n.reduce(
          function(n, t) {
            var r,
              o = t.optional ? 'optional' : 'required';
            if (t.children.length > 0) {
              var i = 'optional' === o ? 1 : 0,
                u = 'required' === o ? 1 : 0,
                l = e(t.children);
              return {
                optional: n.optional + l.optional + i,
                required: n.required + l.required + u,
              };
            }
            return a({}, n, (((r = {})[o] = n[o] + 1), r));
          },
          { required: 0, optional: 0 }
        );
      })(t);
      o(e.required + e.optional), r(e);
    }, []),
    null
  );
}
function un() {
  var e = c([
    '\n  font-family: ',
    ';\n  margin-top: 0;\n  text-align: center;\n',
  ]);
  return (
    (un = function() {
      return e;
    }),
    e
  );
}
function ln() {
  var e = n.useContext(Xe);
  return t.createElement(an, null, e.skillCount, ' skills');
}
var an = i.p(un(), function(e) {
  return e.theme.headingFont;
});
function cn() {
  var e = c([
    '\n  font-family: ',
    ';\n  margin-bottom: 0;\n  min-width: 152px;\n  text-align: center;\n',
  ]);
  return (
    (cn = function() {
      return e;
    }),
    e
  );
}
function dn() {
  var e = c([
    '\n  background: ',
    ';\n  color: ',
    ";\n\n  &[data-placement^='top'] {\n    .tippy-arrow {\n      border-top-color: ",
    ';\n    }\n  }\n',
  ]);
  return (
    (dn = function() {
      return e;
    }),
    e
  );
}
function sn() {
  var e = c(['\n      transform: rotate(180deg);\n    ']);
  return (
    (sn = function() {
      return e;
    }),
    e
  );
}
function fn() {
  var e = c([
    '\n  color: ',
    ';\n  display: ',
    ';\n  font-family: ',
    ';\n  font-size: ',
    ';\n  left: 8px;\n  position: absolute;\n  transform: rotate(90deg);\n  transition: 0.15s transform ease-out;\n\n  ',
    '\n',
  ]);
  return (
    (fn = function() {
      return e;
    }),
    e
  );
}
function pn() {
  var e = c([
    '\n      background: ',
    ';\n      border: ',
    ';\n      border-radius: ',
    ';\n      cursor: pointer;\n      min-width: 300px;\n      transition: ',
    ';\n      user-select: none;\n\n      &:hover {\n        background: ',
    ';\n      }\n    ',
  ]);
  return (
    (pn = function() {
      return e;
    }),
    e
  );
}
function hn() {
  var e = c(['\n      opacity: ', ';\n    ']);
  return (
    (hn = function() {
      return e;
    }),
    e
  );
}
function mn() {
  var e = c(['\n  ', '\n  ', '\n']);
  return (
    (mn = function() {
      return e;
    }),
    e
  );
}
var gn = require('styled-components').css;
function vn(e) {
  var r = e.handleClick,
    i = e.collapsible,
    u = e.isVisible,
    l = e.id,
    a = e.title,
    c = e.description,
    d = e.disabled,
    s = n.useContext(o.ThemeContext).tooltipZIndex,
    f = n.useCallback(
      function(e) {
        13 === e.keyCode && r();
      },
      [r]
    );
  return t.createElement(
    xn,
    { zIndex: s, enabled: Boolean(c), content: c || '' },
    t.createElement(
      bn,
      {
        tabIndex: 0,
        onKeyDown: f,
        onPointerDown: r,
        isCollapsible: i,
        isDisabled: d,
      },
      t.createElement(
        'div',
        { style: { position: 'relative' } },
        t.createElement(kn, { isCollapsible: i, isVisible: u }, '▲'),
        t.createElement(Cn, { id: l }, a)
      ),
      t.createElement(ln, null)
    )
  );
}
var bn = i.div(
    mn(),
    function(e) {
      return (
        e.isDisabled &&
        gn(hn(), function(e) {
          return e.theme.disabledTreeOpacity;
        })
      );
    },
    function(e) {
      return (
        e.isCollapsible &&
        gn(
          pn(),
          function(e) {
            return e.theme.treeBackgroundColor;
          },
          function(e) {
            return e.theme.border;
          },
          function(e) {
            return e.theme.borderRadius;
          },
          function(e) {
            return e.theme.headingHoverColorTransition;
          },
          function(e) {
            return e.theme.headingHoverColor;
          }
        )
      );
    }
  ),
  kn = i.span(
    fn(),
    function(e) {
      return e.theme.headingFontColor;
    },
    function(e) {
      return e.isCollapsible ? 'inline' : 'none';
    },
    function(e) {
      return e.theme.headingFont;
    },
    function(e) {
      return e.theme.headingFontSize;
    },
    function(e) {
      return e.isVisible && gn(sn());
    }
  ),
  xn = i(l)(
    dn(),
    function(e) {
      return e.theme.tooltipBackgroundColor;
    },
    function(e) {
      return e.theme.tooltipFontColor;
    },
    function(e) {
      return e.theme.tooltipBackgroundColor;
    }
  ),
  Cn = i.h2(cn(), function(e) {
    return e.theme.headingFont;
  });
function Sn(e) {
  var t = e.skills,
    r = e.treeId,
    o = n.useContext(m).addToSkillMap;
  return (
    n.useEffect(function() {
      var e = (function(e, n) {
        var t = {};
        return (
          (function n(r) {
            r.forEach(function(r) {
              r.children.length > 0 && n(r.children),
                (t[r.title.toLowerCase()] = e);
            });
          })(n),
          t
        );
      })(r, t);
      o(e);
    }, []),
    null
  );
}
function En(e) {
  var t = e.setVisibility,
    r = e.isVisible,
    o = e.treeId,
    i = e.disabled,
    u = n.useContext(m).filtersMatches,
    l = n.useState(!1),
    a = l[0],
    c = l[1];
  return (
    n.useEffect(
      function() {
        if (!a) return c(!0);
        if (i) return t(!1);
        if (!u) {
          if (!0 === r) return;
          return t(!0);
        }
        if (!u.has(o)) {
          if (!1 === r) return;
          return t(!1);
        }
        return !0 !== r ? t(!0) : void 0;
      },
      [u]
    ),
    null
  );
}
function yn() {
  var e = c([
    '\n  background: ',
    ';\n  border: ',
    ';\n  border-top: ',
    ';\n  border-radius: ',
    ';\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  @media (min-width: 1200px) {\n    flex-direction: row;\n  }\n',
  ]);
  return (
    (yn = function() {
      return e;
    }),
    e
  );
}
function wn() {
  var e = c([
    '\n  background-color: ',
    ';\n  margin: 0 8px 48px;\n  min-width: 304px;\n\n  @media (min-width: 900px) {\n    margin: 0 8px 16px;\n    padding: 16px;\n  }\n',
  ]);
  return (
    (wn = function() {
      return e;
    }),
    e
  );
}
var Ln = i.div(wn(), function(e) {
    return e.theme.backgroundColor;
  }),
  In = i.div(
    yn(),
    function(e) {
      return e.theme.treeBackgroundColor;
    },
    function(e) {
      return e.theme.border;
    },
    function(e) {
      return e.isCollapsible ? '0' : 'auto';
    },
    function(e) {
      return e.theme.borderRadius;
    }
  );
(exports.SkillProvider = function(e) {
  return t.createElement(p, null, t.createElement(g, null, e.children));
}),
  (exports.SkillTree = function(e) {
    var r = e.data,
      o = e.title,
      i = e.description,
      u = e.closedByDefault,
      l = e.currentLevel,
      a = e.treeId,
      c = e.savedData,
      d = e.handleSave,
      s = e.handleNodeSelect,
      f = e.collapsible,
      p = void 0 !== f && f,
      h = e.disabled,
      m = void 0 !== h && h,
      g = T(),
      v = n.useState(!u && !m),
      b = v[0],
      k = v[1],
      x = n.useCallback(
        function() {
          return k(!(m || (p && b)));
        },
        [b, m, p]
      );
    return t.createElement(
      t.Fragment,
      null,
      t.createElement(Sn, { treeId: a, skills: r }),
      t.createElement(En, {
        disabled: m,
        isVisible: b,
        setVisibility: k,
        treeId: a,
      }),
      t.createElement(
        Ye,
        {
          treeId: a,
          savedData: c,
          handleSave: d,
          sendNodeSelectDataToClient: s,
        },
        t.createElement(on, { data: r }),
        t.createElement(
          Ln,
          null,
          t.createElement(vn, {
            isVisible: b,
            disabled: m,
            handleClick: x,
            collapsible: p,
            id: a,
            description: i,
            title: o,
          }),
          t.createElement(
            tn,
            { isVisible: b },
            t.createElement(
              In,
              { isCollapsible: p },
              r.map(function(e, n) {
                var o = r.length - 1 !== n && g;
                return t.createElement(
                  t.Fragment,
                  { key: e.id },
                  t.createElement(Ze, {
                    shouldBeUnlocked: l >= e.requiredLevel,
                    currentLevel: l,
                    skill: e,
                    hasParent: !1,
                    parentPosition: 0,
                    parentHasMultipleChildren: !1,
                  }),
                  t.createElement(Je, { display: o })
                );
              })
            )
          )
        )
      )
    );
  }),
  (exports.SkillTreeGroup = b);
//# sourceMappingURL=beautiful-skill-tree.cjs.production.min.js.map
