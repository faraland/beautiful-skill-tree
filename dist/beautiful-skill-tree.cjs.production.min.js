'use strict';
function e(e) {
  return e && 'object' == typeof e && 'default' in e ? e.default : e;
}
Object.defineProperty(exports, '__esModule', { value: !0 });
var n = require('react'),
  t = e(n),
  r = require('uuid'),
  o = require('styled-components'),
  i = e(o),
  l = require('lodash'),
  u = e(require('@tippy.js/react'));
function a() {
  return (a =
    Object.assign ||
    function(e) {
      for (var n = 1; n < arguments.length; n++) {
        var t = arguments[n];
        for (var r in t)
          Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
      }
      return e;
    }).apply(this, arguments);
}
function c(e, n) {
  return n || (n = e.slice(0)), (e.raw = n), e;
}
function d(e, n) {
  switch (n.type) {
    case 'SELECT_REQUIRED_SKILL':
      return a({}, e, {
        selectedSkillCount: {
          optional: e.selectedSkillCount.optional,
          required: e.selectedSkillCount.required + 1,
        },
      });
    case 'DESELECT_REQUIRED_SKILL':
      return a({}, e, {
        selectedSkillCount: {
          optional: e.selectedSkillCount.optional,
          required: e.selectedSkillCount.required - 1,
        },
      });
    case 'SELECT_OPTIONAL_SKILL':
      return a({}, e, {
        selectedSkillCount: {
          optional: e.selectedSkillCount.optional + 1,
          required: e.selectedSkillCount.required,
        },
      });
    case 'DESELECT_OPTIONAL_SKILL':
      return a({}, e, {
        selectedSkillCount: {
          optional: e.selectedSkillCount.optional - 1,
          required: e.selectedSkillCount.required,
        },
      });
    case 'RESET_SKILLS':
      return f;
    default:
      return e;
  }
}
require('tippy.js/dist/tippy.css'),
  require('tippy.js/animations/shift-away.css');
var s = n.createContext({
    skillCount: { required: 0, optional: 0 },
    addToSkillCount: function() {},
    selectedSkillCount: { required: 0, optional: 0 },
    dispatch: function() {
      return '';
    },
    resetId: '',
    resetSkills: function() {},
  }),
  f = { selectedSkillCount: { required: 0, optional: 0 } };
function p(e) {
  var t = e.children,
    o = n.useState(''),
    i = o[0],
    l = o[1],
    u = n.useState({ required: 0, optional: 0 }),
    a = u[0],
    c = u[1],
    p = n.useReducer(d, f),
    h = p[1];
  return n.createElement(
    s.Provider,
    {
      value: {
        skillCount: a,
        dispatch: h,
        addToSkillCount: function(e) {
          return c(function(n) {
            return {
              required: n.required + e.required,
              optional: n.optional + e.optional,
            };
          });
        },
        selectedSkillCount: p[0].selectedSkillCount,
        resetId: i,
        resetSkills: function() {
          h({ type: 'RESET_SKILLS' }), l(r.v4());
        },
      },
    },
    t
  );
}
var h = {
    backgroundColor: 'transparent',
    border: '2px solid white',
    borderRadius: '4px',
    primaryFont:
      "-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n  'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",
    primaryFontColor: 'white',
    treeBackgroundColor: '#282c34',
    disabledTreeOpacity: 0.8,
    headingFont:
      "-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",
    headingFontColor: 'white',
    headingFontSize: '24px',
    headingHoverColor: '#35373b',
    headingHoverColorTransition: 'background 0.3s ease-out',
    tooltipTitleFontSize: '20px',
    tooltipBackgroundColor: 'white',
    tooltipFontColor: '#16181c',
    tooltipZIndex: 99999,
    nodeBackgroundColor: '#282c34',
    nodeBorderColor: 'white',
    nodeAlternativeFontColor: 'white',
    nodeAltenativeActiveFontColor: 'white',
    nodeOverlayColor: 'white',
    nodeAlternativeActiveBackgroundColor:
      '\n  linear-gradient(\n    to right,\n    #b9e562 0%,\n    #41e2bd 50%,\n    #c284d8 100%\n  )',
    nodeActiveBackgroundColor:
      'linear-gradient(\n      to right,\n      #b9e562 0%,\n      #41e2bd 50%,\n      #c284d8 100%\n    )',
    nodeHoverBorder: '4px solid',
    nodeHoverBorderColor:
      'linear-gradient(\n      to right,\n      #b9e562 0%,\n      #41e2bd 50%,\n      #c284d8 100%\n    )',
    nodeIconWidth: '64px',
    nodeMobileTextNodeHeight: '40px',
    nodeMobileTextNodeWidth: '120px',
    nodeMobileFontSize: '14px',
    nodeDesktopTextNodeHeight: '40px',
    nodeDesktopTextNodeWidth: '144px',
    nodeDesktopFontSize: '16px',
    edgeBorder: '1px solid white',
  },
  m = n.createContext({
    filtersMatches: null,
    handleFilter: function() {
      return null;
    },
    addToSkillMap: function() {
      return null;
    },
  });
function v(e) {
  var t = n.useState({}),
    r = t[0],
    o = t[1],
    i = n.useState(null),
    l = i[1];
  return n.createElement(
    m.Provider,
    {
      value: {
        filtersMatches: i[0],
        handleFilter: function(e) {
          if ('' === e.trim()) return l(null);
          var n = e.toLowerCase(),
            t = Object.keys(r).filter(function(e) {
              return e.includes(n);
            }),
            o = new Set(
              t.map(function(e) {
                return r[e];
              })
            );
          return l(o);
        },
        addToSkillMap: function(e) {
          return o(function(n) {
            return a({}, n, {}, e);
          });
        },
      },
    },
    e.children
  );
}
function g() {
  var e = c([
    '\n  display: flex;\n  flex-wrap: wrap;\n  font-family: ',
    ';\n  color: ',
    ';\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  justify-content: center;\n  margin: 0 0 48px;\n  min-width: fit-content;\n',
  ]);
  return (
    (g = function() {
      return e;
    }),
    e
  );
}
function b(e) {
  var t = e.theme,
    r = e.children,
    i = n.useContext(s),
    l = i.skillCount,
    u = i.selectedSkillCount,
    c = i.resetSkills,
    d = n.useContext(m).handleFilter,
    f = n.useMemo(
      function() {
        return a({}, h, {}, t);
      },
      [t]
    );
  return n.createElement(
    o.ThemeProvider,
    { theme: f },
    n.createElement(
      k,
      null,
      r({
        skillCount: l,
        selectedSkillCount: u,
        resetSkills: c,
        handleFilter: d,
      })
    )
  );
}
b.defaultProps = { theme: h };
var k = i.div(
    g(),
    function(e) {
      return e.theme.primaryFont;
    },
    function(e) {
      return e.theme.primaryFontColor;
    }
  ),
  x = 'locked',
  S = 'unlocked',
  C = 'selected',
  y = function() {
    var e = n.useState(Infinity),
      t = e[0],
      r = e[1];
    return (
      n.useEffect(function() {
        r(window.innerWidth);
        var e = l.throttle(function() {
          r(window.innerWidth);
        }, 500);
        return (
          window.addEventListener('resize', e),
          function() {
            window.removeEventListener('resize', e);
          }
        );
      }, []),
      t < 1200
    );
  };
function E() {
  var e = c([
    '\n  border: 1px solid #79ecc7;\n  background: transparent;\n  padding: 10px;\n  color: #79ecc7;\n  transition: 0.2s;\n  width: 100%;\n  border-radius: 5px;\n\n  :hover {\n    background-color: #79ecc7;\n    cursor: pointer;\n    color: white;\n  }\n',
  ]);
  return (
    (E = function() {
      return e;
    }),
    e
  );
}
function w() {
  var e = c([
    '\n  display: flex;\n  column-gap: 30px;\n  margin: 20px 0 10px;\n',
  ]);
  return (
    (w = function() {
      return e;
    }),
    e
  );
}
function L() {
  var e = c(['\n  margin: 8px 0;\n']);
  return (
    (L = function() {
      return e;
    }),
    e
  );
}
function I() {
  var e = c(['\n  font-weight: bold;\n']);
  return (
    (I = function() {
      return e;
    }),
    e
  );
}
function T() {
  var e = c([
    '\n  font-family: ',
    ';\n  font-size: ',
    ';\n  margin: 8px 0 0;\n',
  ]);
  return (
    (T = function() {
      return e;
    }),
    e
  );
}
var R = n.memo(function(e) {
    var t = e.content,
      r = e.title,
      o = e.currentState,
      i = e.type,
      l = e.handleClose,
      u = e.handleSelect,
      a = e.handleRemove,
      c = y();
    return n.createElement(
      n.Fragment,
      null,
      n.createElement(
        'div',
        { style: { display: 'flex', justifyContent: 'space-between' } },
        n.createElement(q, null, r),
        n.createElement('img', {
          onClick: l,
          style: {
            width: '16px',
            margin: '21px 4px auto 0',
            cursor: 'pointer',
          },
          src:
            "data:image/svg+xml,%3c%3fxml version='1.0' encoding='iso-8859-1'%3f%3e%3c!-- Generator: Adobe Illustrator 19.0.0%2c SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3e%3csvg version='1.1' id='Capa_1' fill='white' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 47.971 47.971' style='enable-background:new 0 0 47.971 47.971%3b' xml:space='preserve'%3e%3cg%3e %3cpath d='M28.228%2c23.986L47.092%2c5.122c1.172-1.171%2c1.172-3.071%2c0-4.242c-1.172-1.172-3.07-1.172-4.242%2c0L23.986%2c19.744L5.121%2c0.88 c-1.172-1.172-3.07-1.172-4.242%2c0c-1.172%2c1.171-1.172%2c3.071%2c0%2c4.242l18.865%2c18.864L0.879%2c42.85c-1.172%2c1.171-1.172%2c3.071%2c0%2c4.242 C1.465%2c47.677%2c2.233%2c47.97%2c3%2c47.97s1.535-0.293%2c2.121-0.879l18.865-18.864L42.85%2c47.091c0.586%2c0.586%2c1.354%2c0.879%2c2.121%2c0.879 s1.535-0.293%2c2.121-0.879c1.172-1.171%2c1.172-3.071%2c0-4.242L28.228%2c23.986z'/%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3c/svg%3e",
          alt: 'icon',
        })
      ),
      n.createElement(N, null, i, ' Skill'),
      n.createElement(P, null, t),
      c &&
        o !== x &&
        n.createElement(
          B,
          null,
          n.createElement(F, { onClick: a }, '-1 Level'),
          n.createElement(F, { onClick: u }, '+1 Level')
        )
    );
  }),
  q = i.h1(
    T(),
    function(e) {
      return e.theme.headingFont;
    },
    function(e) {
      return e.theme.tooltipTitleFontSize;
    }
  ),
  N = i.div(I()),
  P = i.div(L()),
  B = i.div(w()),
  F = i.button(E());
function D() {
  var e = c([
    '\n  background-color: ',
    ';\n  border: ',
    ';\n  border-image-source: ',
    ';\n  border-image-slice: 1;\n  border-radius: ',
    ';\n  padding: 0 8px;\n  text-align: left;\n  width: 320px;\n\n  .tippy-backdrop {\n    background-color: ',
    ';\n  }\n',
  ]);
  return (
    (D = function() {
      return e;
    }),
    e
  );
}
function z(e) {
  var r = e.children,
    i = e.tooltip,
    l = e.title,
    u = e.type,
    a = e.handleSelect,
    c = e.handleRemove,
    d = e.currentState,
    s = i.direction,
    f = void 0 === s ? 'top' : s,
    p = i.content,
    h = n.useContext(o.ThemeContext).tooltipZIndex,
    m = n.useRef(null),
    v = y(),
    g = t.useMemo(
      function() {
        return v ? 'top' : f;
      },
      [v, f]
    );
  function b() {
    if (m.current) return m.current.hide();
  }
  var k = t.useMemo(
    function() {
      return t.createElement(R, {
        handleClose: b,
        content: p,
        title: l,
        type: u,
        currentState: d,
        handleSelect: a,
        handleRemove: c,
      });
    },
    [p, l, d, a, c, u]
  );
  return t.createElement(
    _,
    {
      interactive: !0,
      placement: g,
      onCreate: function(e) {
        m.current = e;
      },
      hideOnClick: !1,
      animation: 'shift-away',
      arrow: !1,
      appendTo: document.body,
      touch: 'hold',
      zIndex: h,
      content: k,
    },
    r
  );
}
var _ = i(u)(
  D(),
  function(e) {
    return e.theme.treeBackgroundColor;
  },
  function(e) {
    return e.theme.border;
  },
  function(e) {
    return e.theme.nodeHoverBorderColor;
  },
  function(e) {
    return e.theme.borderRadius;
  },
  function(e) {
    return e.theme.treeBackgroundColor;
  }
);
function O() {
  var e = c([
    '\n  pointer-events: none;\n  height: 75%;\n  margin: auto;\n  width: 75%;\n',
  ]);
  return (
    (O = function() {
      return e;
    }),
    e
  );
}
function M() {
  var e = c(['\n  display: flex;\n']);
  return (
    (M = function() {
      return e;
    }),
    e
  );
}
var H = t.memo(function(e) {
    return t.createElement(
      A,
      { 'data-testid': 'icon-container', containerWidth: e.containerWidth },
      t.createElement(V, { src: e.src, alt: e.title })
    );
  }),
  A = i.div.attrs(function(e) {
    return {
      style: {
        height: e.containerWidth + 'px',
        width: e.containerWidth + 'px',
      },
    };
  })(M()),
  V = i.img(O());
function j() {
  var e = c(['\n      color: ', ';\n    ']);
  return (
    (j = function() {
      return e;
    }),
    e
  );
}
function K() {
  var e = c(['\n  color: ', ';\n\n  ', ';\n']);
  return (
    (K = function() {
      return e;
    }),
    e
  );
}
function W() {
  var e = c([
    '\n  font-size: ',
    ';\n  text-overflow: ellipsis;\n  margin: 0;\n  overflow: hidden;\n  padding: 0 8px;\n  white-space: nowrap;\n\n  @media (min-width: 900px) {\n    font-size: ',
    ';\n  }\n',
  ]);
  return (
    (W = function() {
      return e;
    }),
    e
  );
}
function U() {
  var e = c([
    '\n  align-items: center;\n  display: flex;\n  font-weight: 600;\n  justify-content: center;\n  height: ',
    ';\n  width: ',
    ';\n\n  @media (min-width: 900px) {\n    height: ',
    ';\n    width: ',
    ';\n  }\n',
  ]);
  return (
    (U = function() {
      return e;
    }),
    e
  );
}
function Q() {
  var e = c([
    '\n  background-color: black;\n  position: absolute;\n  padding: 5px 10px;\n  border-radius: 4px;\n  font-size: 14px;\n  bottom: -15px;\n  right: -25px;\n  z-index: 99;\n\n  @media (max-width: 900px) {\n    font-size: 12px;\n    bottom: -15px;\n  }\n',
  ]);
  return (
    (Q = function() {
      return e;
    }),
    e
  );
}
function G() {
  var e = c([
    '\n  background-color: black;\n  position: absolute;\n  padding: 5px 10px;\n  border-radius: 4px;\n  font-size: 14px;\n  bottom: -10px;\n  right: -25px;\n  z-index: 99;\n\n  @media (max-width: 900px) {\n    font-size: 12px;\n    bottom: -15px;\n  }\n',
  ]);
  return (
    (G = function() {
      return e;
    }),
    e
  );
}
function X() {
  var e = c(['\n  width: ', ';\n']);
  return (
    (X = function() {
      return e;
    }),
    e
  );
}
function Y() {
  var e = c(['\n        background: ', ';\n      ']);
  return (
    (Y = function() {
      return e;
    }),
    e
  );
}
function Z() {
  var e = c([
    '\n      animation: ',
    ' 1s infinite alternate;\n      box-shadow: 0 0 6px 0 rgba(255, 255, 255, 0.5);\n\n      &:after,\n      &:before {\n        border: 0 solid;\n        border-image-source: ',
    ";\n        border-image-slice: 1;\n        content: ' ';\n        opacity: 0;\n        height: 0;\n        transition: opacity 0.6s, width 0.6s, height 0.6s;\n        position: absolute;\n        width: 0;\n      }\n\n      &:after {\n        border-top: ",
    ';\n        border-left: ',
    ';\n        top: 0;\n        left: 0;\n      }\n\n      &:before {\n        bottom: 0px;\n        right: 0px;\n        border-bottom: ',
    ';\n        border-right: ',
    ';\n      }\n\n      &:hover,\n      &:focus {\n        animation: none;\n        box-shadow: 0 0 12px 0 rgba(255, 255, 255, 1);\n\n        &:after,\n        &:before {\n          opacity: 1;\n          height: 85%;\n          transition: width 0.6s, height 0.6s;\n          width: ',
    ';\n        }\n      }\n    ',
  ]);
  return (
    (Z = function() {
      return e;
    }),
    e
  );
}
function J() {
  var e = c(['\n      animation: ', ' 1s 1;\n      background: ', ';\n    ']);
  return (
    (J = function() {
      return e;
    }),
    e
  );
}
function $() {
  var e = c([
    '\n  background: ',
    ';\n  border: 2px solid;\n  border-color: ',
    ';\n  box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0);\n  border-radius: ',
    ';\n  cursor: pointer;\n  display: flex;\n  margin: 0 3px;\n  outline: none;\n  position: relative;\n  transition: box-shadow 0.6s, opacity 1s;\n  user-select: none;\n\n  @media (min-width: 410px) {\n    margin: 0 8px;\n  }\n\n  @media (min-width: 900px) {\n    margin: 0 16px;\n    outline: initial;\n    outline-color: white;\n  }\n\n  ',
    '\n\n  ',
    '\n\n    ',
    '\n\n  ',
    '\n',
  ]);
  return (
    ($ = function() {
      return e;
    }),
    e
  );
}
function ee() {
  var e = c([
    '\n  from,\n  20% {\n    box-shadow: 0 0 8px 0 rgba(255, 255, 255, 0.5);\n  }\n\n  to {\n    box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0.5);\n  }\n',
  ]);
  return (
    (ee = function() {
      return e;
    }),
    e
  );
}
function ne() {
  var e = c([
    '\n  from {\n    box-shadow: 0 0 18px 0 rgba(255, 255, 255, 1);\n  }\n\n  20% {\n    box-shadow: 0 0 24px 0 rgba(255, 255, 255, 1);\n  }\n\n  to {\n    box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0);\n  }\n',
  ]);
  return (
    (ne = function() {
      return e;
    }),
    e
  );
}
var te = require('styled-components').keyframes,
  re = require('styled-components').css,
  oe = n.forwardRef(function(e, t) {
    var r = e.handleClick,
      o = e.handleRightClick,
      i = e.id,
      l = e.currentState,
      u = e.skill,
      a = e.learned,
      c = u.color,
      d = void 0 === c ? 'default' : c,
      s = n.useState(!1),
      f = s[0],
      p = s[1],
      h = y(),
      m = n.useCallback(
        function(e) {
          13 === e.keyCode && r();
        },
        [r]
      );
    n.useEffect(function() {
      p(
        (function() {
          var e = [
            'iPad Simulator',
            'iPhone Simulator',
            'iPod Simulator',
            'iPad',
            'iPhone',
            'iPod',
          ];
          if (navigator.platform)
            for (; e.length; ) if (navigator.platform === e.pop()) return !0;
          return !1;
        })()
      );
    }, []);
    var v = function(e) {
      e.preventDefault(), h || (0 === e.button ? r() : 2 === e.button && o());
    };
    return n.createElement(
      ue,
      {
        onClick: v,
        onContextMenu: v,
        onKeyDown: m,
        ref: t,
        tabIndex: 0,
        'data-testid': i,
        optional: u.optional || !1,
        isIOS: f,
        selected: l === C,
        unlocked: l === S,
        locked: l === x,
        color: d,
      },
      'icon' in u
        ? n.createElement(
            ae,
            null,
            n.createElement(H, {
              title: 'node-icon',
              src: u.icon,
              containerWidth: 64,
            }),
            n.createElement(ce, null, a, '/', u.levels.length)
          )
        : n.createElement(
            se,
            null,
            n.createElement(
              n.Fragment,
              null,
              'default' === d
                ? n.createElement(fe, null, u.title)
                : n.createElement(pe, { selected: l === C }, u.title),
              n.createElement(de, null, a, '/', u.levels.length)
            )
          )
    );
  }),
  ie = te(ne()),
  le = te(ee()),
  ue = i.div(
    $(),
    function(e) {
      return e.theme.nodeBackgroundColor;
    },
    function(e) {
      return e.theme.nodeBorderColor;
    },
    function(e) {
      return e.theme.borderRadius;
    },
    function(e) {
      return (
        e.selected &&
        re(J(), ie, function(n) {
          var t = n.theme;
          return 'default' === e.color
            ? t.nodeActiveBackgroundColor
            : t.nodeAlternativeActiveBackgroundColor;
        })
      );
    },
    function(e) {
      return (
        e.unlocked &&
        re(
          Z(),
          le,
          function(e) {
            return e.theme.nodeHoverBorderColor;
          },
          function(e) {
            return e.theme.nodeHoverBorder;
          },
          function(e) {
            return e.theme.nodeHoverBorder;
          },
          function(e) {
            return e.theme.nodeHoverBorder;
          },
          function(e) {
            return e.theme.nodeHoverBorder;
          },
          function(e) {
            return e.isIOS ? 0 : '95%';
          }
        )
      );
    },
    function(e) {
      return (
        e.unlocked &&
        e.optional &&
        re(Y(), function(e) {
          return e.theme.nodeBackgroundColor;
        })
      );
    },
    function(e) {
      return (
        e.locked && '\n        cursor: initial;\n        opacity: 0.65;\n    '
      );
    }
  ),
  ae = i.div(X(), function(e) {
    return e.theme.nodeIconNodeWidth;
  }),
  ce = i.div(G()),
  de = i.div(Q()),
  se = i.div(
    U(),
    function(e) {
      return e.theme.nodeMobileTextNodeHeight;
    },
    function(e) {
      return e.theme.nodeMobileTextNodeWidth;
    },
    function(e) {
      return e.theme.nodeDesktopTextNodeHeight;
    },
    function(e) {
      return e.theme.nodeDesktopTextNodeWidth;
    }
  ),
  fe = i.p(
    W(),
    function(e) {
      return e.theme.nodeMobileFontSize;
    },
    function(e) {
      return e.theme.nodeDesktopFontSize;
    }
  ),
  pe = i(fe)(
    K(),
    function(e) {
      return e.theme.nodeAlternativeFontColor;
    },
    function(e) {
      return (
        e.selected &&
        re(j(), function(e) {
          return e.theme.nodeAltenativeActiveFontColor;
        })
      );
    }
  );
function he() {
  var e = c([
    '\n  display: flex;\n  justify-content: center;\n  position: relative;\n  column-gap: 50px;\n',
  ]);
  return (
    (he = function() {
      return e;
    }),
    e
  );
}
function me() {
  var e = c([
    '\n  margin: 0 auto;\n  position: relative;\n  width: fit-content;\n',
  ]);
  return (
    (me = function() {
      return e;
    }),
    e
  );
}
function ve(e) {
  var n = e.skill,
    r = e.nodeState,
    o = e.currentLevel,
    i = e.learned,
    u = e.skillPoint,
    a = e.childrenLearnedState,
    c = e.handleLearnedChange,
    d = e.incSkillCount,
    s = e.updateSkillState,
    f = e.handleNodeSelect,
    p =
      void 0 === f
        ? function() {
            return null;
          }
        : f,
    h = e.handleNodeRemove,
    m =
      void 0 === h
        ? function() {
            return null;
          }
        : h,
    v = n.children,
    g = n.title,
    b = n.tooltip,
    k = n.id,
    y = n.optional,
    E = n.type,
    w = t.useState(0),
    L = w[0],
    I = w[1],
    T = t.useRef(null),
    R = t.useRef(0);
  function q() {
    var e = T.current.getBoundingClientRect(),
      n = e.left,
      t = window.scrollX;
    I((e.right - n) / 2 + n + t);
  }
  function N() {
    R.current = T.current.clientWidth;
  }
  function P() {
    q(), N();
  }
  function B() {
    return r === x
      ? null
      : 0 !== u && r === S && i < n.levels.length
      ? (c(i + 1),
        i < n.levels.length - 1
          ? (p(k, S, n, i + 1), s(k, S, i + 1, y))
          : void 0)
      : void 0;
  }
  function F() {
    if (r === x) return c(0), null;
    if (i !== n.actualLearned) {
      if (r === S && i > 0)
        return (
          c(i - 1),
          0 === i
            ? (m(k, x, n, i - 1), s(k, x, i - 1, y))
            : (m(k, S, n, i - 1), s(k, S, i - 1, y))
        );
      if (r === C) {
        if (
          a &&
          a.filter(function(e) {
            return e.learned > 0;
          }).length > 0
        )
          return;
        return c(i - 1), m(k, S, n, i - 1), s(k, S, i - 1, y);
      }
    }
  }
  t.useEffect(function() {
    var e = l.throttle(P, 200);
    return (
      q(),
      N(),
      window.addEventListener('resize', e),
      function() {
        window.removeEventListener('resize', e);
      }
    );
  }, []),
    t.useEffect(
      function() {
        if (i === n.levels.length) return d(y), p(k, C, n, i), s(k, C, i, y);
      },
      [i]
    );
  var D = v.length > 1;
  return t.createElement(
    t.Fragment,
    null,
    t.createElement(
      be,
      null,
      t.createElement(
        z,
        {
          title: g,
          tooltip: b,
          type: E,
          handleSelect: B,
          handleRemove: F,
          currentState: r,
        },
        t.createElement(oe, {
          handleClick: B,
          handleRightClick: F,
          id: k,
          currentState: r,
          learned: i,
          skill: n,
          ref: T,
        })
      )
    ),
    v.length > 0 &&
      t.createElement(
        ke,
        null,
        v.map(function(e) {
          return t.createElement(ln, {
            key: e.id,
            hasParent: !0,
            currentLevel: o,
            parentPosition: L,
            parentHasMultipleChildren: D,
            shouldBeUnlocked: r === C && o >= e.requiredLevel,
            skill: e,
            skillPoint: u,
          });
        })
      )
  );
}
var ge = t.memo(ve),
  be = i.div(me()),
  ke = i.div(he());
function xe() {
  var e = c([
    '\n      animation: ',
    ' 1.2s 1 ease-out;\n      background-position: left bottom;\n    ',
  ]);
  return (
    (xe = function() {
      return e;
    }),
    e
  );
}
function Se() {
  var e = c([
    '\n  background: linear-gradient(\n    to right,\n    rgba(255, 255, 255, 1) 0%,\n    rgba(255, 255, 255, 1) 50%,\n    rgba(255, 255, 255, 0) 51%,\n    rgba(255, 255, 255, 0) 100%\n  );\n  background-size: 210% 100%;\n  background-position: right top;\n  border: ',
    ';\n  height: 4px;\n  opacity: 0.5;\n  transform: rotate(90deg);\n  transform-origin: 0 0;\n  transition: opacity 0.6s;\n  width: 56px;\n\n  ',
    '\n\n  ',
    '\n',
  ]);
  return (
    (Se = function() {
      return e;
    }),
    e
  );
}
function Ce() {
  var e = c([
    '\n  from,\n  50% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n',
  ]);
  return (
    (Ce = function() {
      return e;
    }),
    e
  );
}
function ye() {
  var e = c([
    '\n  height: 56px;\n  left: 4px;\n  margin: 0 auto;\n  position: relative;\n  width: 4px;\n',
  ]);
  return (
    (ye = function() {
      return e;
    }),
    e
  );
}
var Ee = require('styled-components').keyframes,
  we = require('styled-components').css;
function Le(e) {
  var n = e.state;
  return t.createElement(
    Ie,
    null,
    t.createElement(Re, {
      'data-testid': 'straight-line',
      selected: n === C,
      unlocked: n !== x,
    })
  );
}
var Ie = i.div(ye()),
  Te = Ee(Ce()),
  Re = i.div(
    Se(),
    function(e) {
      return e.theme.edgeBorder;
    },
    function(e) {
      return e.selected && we(xe(), Te);
    },
    function(e) {
      return e.unlocked && '\n      opacity: 1;\n    ';
    }
  );
function qe() {
  var e = c([
    '\n  background: linear-gradient(\n    to right,\n    rgba(255, 255, 255, 1) 0%,\n    rgba(255, 255, 255, 1) 50%,\n    rgba(255, 255, 255, 0) 51%,\n    rgba(255, 255, 255, 0) 100%\n  );\n  background-size: 210% 100%;\n  background-position: right top;\n  border: ',
    ';\n  height: 4px;\n  position: absolute;\n  opacity: 0.5;\n  transition: opacity 0.6s;\n\n  ',
    '\n',
  ]);
  return (
    (qe = function() {
      return e;
    }),
    e
  );
}
var Ne = i.div(
  qe(),
  function(e) {
    return e.theme.edgeBorder;
  },
  function(e) {
    return e.unlocked && '\n      opacity: 1;\n  ';
  }
);
function Pe() {
  var e = c([
    '\n  from,\n  33% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n',
  ]);
  return (
    (Pe = function() {
      return e;
    }),
    e
  );
}
function Be() {
  var e = c([
    '\n      animation: ',
    ' 0.3s 1 ease-in;\n      background-position: left bottom;\n    ',
  ]);
  return (
    (Be = function() {
      return e;
    }),
    e
  );
}
function Fe() {
  var e = c([
    '\n  transform: rotate(90deg) translateY(-50%);\n  transform-origin: 0 0;\n  left: 50%;\n  top: -1px;\n  width: 29px;\n\n  ',
    '\n\n  ',
    '\n\n  ',
    '\n',
  ]);
  return (
    (Fe = function() {
      return e;
    }),
    e
  );
}
var De = require('styled-components').keyframes,
  ze = require('styled-components').css;
function _e(e) {
  var n = e.state;
  return t.createElement(Oe, {
    'data-testid': 'upper-angled-line',
    direction: e.direction,
    selected: n === C,
    unlocked: n !== x,
  });
}
var Oe = i(Ne)(
    Fe(),
    function(e) {
      return (
        'right' === e.direction &&
        '\n      border-bottom-right-radius: 8px;\n    '
      );
    },
    function(e) {
      return (
        'left' === e.direction && '\n      border-top-right-radius: 8px;\n    '
      );
    },
    function(e) {
      return e.selected && ze(Be(), Me);
    }
  ),
  Me = De(Pe());
function He() {
  var e = c([
    '\n  from,\n  30% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n',
  ]);
  return (
    (He = function() {
      return e;
    }),
    e
  );
}
function Ae() {
  var e = c([
    '\n      animation: ',
    ' 1s 1;\n      background-position: left bottom;\n    ',
  ]);
  return (
    (Ae = function() {
      return e;
    }),
    e
  );
}
function Ve() {
  var e = c([
    '\n  border-left: none;\n  border-right: none;\n  top: 24px;\n  left: 50%;\n  width: ',
    'px;\n  transform: translateX(3px) scale(-1);\n\n  ',
    '\n\n  ',
    '\n',
  ]);
  return (
    (Ve = function() {
      return e;
    }),
    e
  );
}
var je = require('styled-components').keyframes,
  Ke = require('styled-components').css;
function We(e) {
  var n = e.direction,
    r = e.parentPosition,
    o = e.childPosition,
    i = e.state;
  return t.createElement(Ue, {
    'data-testid': 'middle-angled-line',
    direction: n,
    unlocked: i !== x,
    selected: i === C,
    width: 'left' === n ? r - o - 6 + 5 : o - r - 6 + 5,
  });
}
var Ue = i(Ne)(
    Ve(),
    function(e) {
      return e.width;
    },
    function(e) {
      return (
        'right' === e.direction &&
        '\n      transform: translateX(-3px) scale(-1);\n      transform-origin: 0;\n  '
      );
    },
    function(e) {
      return e.selected && Ke(Ae(), Qe);
    }
  ),
  Qe = je(He());
function Ge() {
  var e = c([
    '\n  from,\n  70% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n',
  ]);
  return (
    (Ge = function() {
      return e;
    }),
    e
  );
}
function Xe() {
  var e = c([
    '\n        animation: ',
    ' 1.2s 1 ease-out;\n        background-position: left bottom;\n      ',
  ]);
  return (
    (Xe = function() {
      return e;
    }),
    e
  );
}
function Ye() {
  var e = c([
    '\n  transform: rotate(90deg) translateY(-50%);\n  transform-origin: 0 0;\n  left: 50%;\n  top: 24px;\n  width: 31px;\n\n  ',
    '\n\n  ',
    '\n\n    ',
    '\n',
  ]);
  return (
    (Ye = function() {
      return e;
    }),
    e
  );
}
var Ze = require('styled-components').keyframes,
  Je = require('styled-components').css;
function $e(e) {
  var n = e.state;
  return t.createElement(en, {
    unlocked: n !== x,
    direction: e.direction,
    'data-testid': 'lower-angled-line',
    selected: n === C,
  });
}
var en = i(Ne)(
    Ye(),
    function(e) {
      return (
        'right' === e.direction &&
        '\n        border-top-left-radius: 8px;\n      '
      );
    },
    function(e) {
      return (
        'left' === e.direction &&
        '\n      border-bottom-left-radius: 8px;\n    '
      );
    },
    function(e) {
      return e.selected && Je(Xe(), nn);
    }
  ),
  nn = Ze(Ge());
function tn(e) {
  var r = e.state,
    o = e.childNodeRef,
    i = e.parentPosition;
  if (!e.parentHasMultipleChildren) return t.createElement(Le, { state: r });
  var u = n.useState(0),
    a = u[0],
    c = u[1],
    d = i < a ? 'right' : 'left';
  function s() {
    var e = o.current.getBoundingClientRect(),
      n = window.scrollX;
    c(e.left + e.width / 2 + n);
  }
  return (
    n.useEffect(function() {
      var e = l.throttle(s, 200);
      return (
        window.addEventListener('resize', e),
        s(),
        function() {
          window.removeEventListener('resize', e);
        }
      );
    }, []),
    t.createElement(
      'div',
      { style: { height: '56px' } },
      t.createElement(_e, { state: r, direction: d }),
      t.createElement(
        'div',
        { style: { position: 'relative' } },
        t.createElement(We, {
          parentPosition: i,
          childPosition: a,
          state: r,
          direction: d,
        }),
        t.createElement($e, { direction: d, state: r })
      )
    )
  );
}
var rn = n.createContext({
    mounting: !0,
    skills: {},
    skillCount: 0,
    selectedCount: 0,
    updateSkillState: function() {},
    setSkillCount: function() {},
    handleNodeSelect: function() {},
    handleNodeRemove: function() {},
    incrementSelectedCount: function() {},
    decrementSelectedCount: function() {},
  }),
  on = (function(e) {
    var t, r;
    function o(n, t) {
      var r;
      return (
        ((r = e.call(this, n, t) || this).storage = null),
        (r.getTreeSkills = function() {
          if (r.props.savedData) return r.props.savedData;
          var e = r.storage.getItem('skills-' + r.props.treeId);
          return 'undefined' === e || null === e ? {} : JSON.parse(e);
        }),
        (r.incrementSelectedCount = function(e) {
          void 0 === e && (e = !1);
          var n = {
            type: e ? 'SELECT_OPTIONAL_SKILL' : 'SELECT_REQUIRED_SKILL',
          };
          r.setState(function(e) {
            return { selectedCount: e.selectedCount + 1 };
          }),
            r.context.dispatch(n);
        }),
        (r.decrementSelectedCount = function(e) {
          void 0 === e && (e = !1);
          var n = {
            type: e ? 'DESELECT_OPTIONAL_SKILL' : 'DESELECT_REQUIRED_SKILL',
          };
          r.setState(function(e) {
            return { selectedCount: e.selectedCount - 1 };
          }),
            r.context.dispatch(n);
        }),
        (r.resetSkills = function() {
          return r.setState(function(e) {
            return {
              skills: l.mapValues(e.skills, function(e) {
                return {
                  optional: e.optional,
                  nodeState: x,
                  learned: e.learned,
                };
              }),
              resetId: r.context.resetId,
            };
          });
        }),
        (r.setSkillCount = function(e) {
          return r.setState({ skillCount: e });
        }),
        (r.handleNodeSelect = function(e, n, t, o) {
          return r.props.sendNodeSelectDataToClient({
            key: e,
            state: n,
            skill: t,
            learned: o,
          });
        }),
        (r.handleNodeRemove = function(e, n, t, o) {
          return r.props.sendNodeRemoveDataToClient({
            key: e,
            state: n,
            skill: t,
            learned: o,
          });
        }),
        (r.updateSkillState = function(e, n, t, o) {
          void 0 === o && (o = !1);
          var i = r.props,
            l = i.handleSave,
            u = i.treeId;
          return r.setState(function(i) {
            var c,
              d = a(
                {},
                i.skills,
                (((c = {})[e] = {
                  id: e,
                  optional: o,
                  nodeState: n,
                  learned: t,
                }),
                c)
              );
            return l(r.storage, u, d), { skills: d };
          });
        }),
        (r.state = {
          skills: {},
          skillCount: 0,
          selectedCount: 0,
          resetId: t.resetId,
          mounting: !0,
        }),
        r
      );
    }
    (r = e),
      ((t = o).prototype = Object.create(r.prototype)),
      (t.prototype.constructor = t),
      (t.__proto__ = r);
    var i = o.prototype;
    return (
      (i.componentDidMount = function() {
        var e = this.context;
        this.storage = this.props.storage || localStorage;
        var n = this.getTreeSkills(),
          t = 0;
        return (
          Object.keys(n).map(function(r) {
            n[r].nodeState === C &&
              (t++,
              e.dispatch({
                type: n[r].optional
                  ? 'SELECT_OPTIONAL_SKILL'
                  : 'SELECT_REQUIRED_SKILL',
              }));
          }),
          this.setState({ skills: n, selectedCount: t, mounting: !1 }),
          null
        );
      }),
      (i.componentDidUpdate = function() {
        this.context.resetId !== this.state.resetId && this.resetSkills();
      }),
      (i.render = function() {
        return n.createElement(
          rn.Provider,
          {
            value: {
              mounting: this.state.mounting,
              skills: this.state.skills,
              skillCount: this.state.skillCount,
              selectedCount: this.state.selectedCount,
              updateSkillState: this.updateSkillState,
              setSkillCount: this.setSkillCount,
              handleNodeSelect: this.handleNodeSelect,
              handleNodeRemove: this.handleNodeRemove,
              incrementSelectedCount: this.incrementSelectedCount,
              decrementSelectedCount: this.decrementSelectedCount,
            },
          },
          this.props.children
        );
      }),
      o
    );
  })(n.Component);
function ln(e) {
  var r = e.skill,
    o = e.hasParent,
    i = e.parentHasMultipleChildren,
    u = e.parentPosition,
    a = e.shouldBeUnlocked,
    c = e.currentLevel,
    d = e.skillPoint,
    s = n.useContext(rn),
    f = s.mounting,
    p = s.skills,
    h = s.updateSkillState,
    m = s.decrementSelectedCount,
    v = s.incrementSelectedCount,
    g = s.handleNodeSelect,
    b = s.handleNodeRemove,
    k = n.useRef(null),
    y = t.useState(r.learned),
    E = y[0],
    w = y[1],
    L = p[r.id] ? p[r.id].nodeState : 'locked',
    I = r.children.map(function(e) {
      return p[e.id];
    });
  return (
    n.useEffect(
      function() {
        w(r.learned);
      },
      [r.learned]
    ),
    n.useEffect(
      function() {
        if (!f) {
          if (L === C && !a) return h(r.id, x, r.learned, r.optional);
          if (L === S && !a)
            return w(r.learned), h(r.id, x, r.learned, r.optional);
          if (a)
            return L === x && a
              ? h(r.id, S, r.learned, r.optional)
              : L === C && a && 0 === E
              ? h(r.id, S, r.learned, r.optional)
              : void 0;
        }
      },
      [L, a, f, E, I]
    ),
    n.useEffect(
      function() {
        if (!f) return l.isEmpty(p) ? h(r.id, S, r.learned) : void 0;
      },
      [f]
    ),
    t.createElement(
      'div',
      { style: { margin: o ? '' : '16px 0' } },
      o &&
        t.createElement(tn, {
          parentHasMultipleChildren: i,
          state: L,
          childNodeRef: k,
          parentPosition: u,
        }),
      t.createElement(
        'div',
        { ref: k },
        t.createElement(ge, {
          incSkillCount: n.useCallback(v, []),
          decSkillCount: n.useCallback(m, []),
          updateSkillState: h,
          currentLevel: c,
          skill: r,
          learned: E,
          skillPoint: d,
          handleLearnedChange: function(e) {
            w(e);
          },
          nodeState: L,
          childrenLearnedState: I,
          handleNodeSelect: g,
          handleNodeRemove: b,
        })
      )
    )
  );
}
function un(e) {
  return n.createElement(
    'div',
    { style: { height: '2px' } },
    e.display &&
      n.createElement('hr', {
        style: { margin: 0 },
        'data-testid': 'h-separator',
      })
  );
}
function an() {
  var e = c([
    '\n      transition: transform 0.15s ease-out, opacity 0.15s ease-out,\n        max-height 0.15s ease-out, visibility 0.15s 0.15s ease-out;\n      transform: scaleY(0);\n      visibility: hidden;\n      max-height: 0;\n      width: 304px;\n      opacity: 0;\n    ',
  ]);
  return (
    (an = function() {
      return e;
    }),
    e
  );
}
function cn() {
  var e = c([
    '\n  transition: transform 0.15s ease-out, opacity 0.15s ease-out,\n    max-height 0.15s ease-out, visibility 0.15s ease-out;\n  height: auto;\n  max-height: 10000px;\n  min-width: 304px;\n  opacity: 1;\n  overflow: hidden;\n  visibility: visible;\n  transform: scaleY(1);\n  transform-origin: top;\n\n  ',
    '\n',
  ]);
  return (
    (cn = function() {
      return e;
    }),
    e
  );
}
(on.contextType = s),
  (on.defaultProps = {
    handleSave: function(e, n, t) {
      return e.setItem('skills-' + n, JSON.stringify(t));
    },
    sendNodeSelectDataToClient: function() {
      return null;
    },
    sendNodeRemoveDataToClient: function() {
      return null;
    },
  }),
  (ln.defaultProps = { hasParent: !0 });
var dn = require('styled-components').css;
function sn(e) {
  var r = e.isVisible,
    o = e.children,
    i = n.useState(r),
    l = i[0],
    u = i[1];
  return (
    n.useEffect(
      function() {
        r && u(!0);
      },
      [r, u]
    ),
    l
      ? t.createElement(
          fn,
          { 'data-testid': 'visibility-container', isVisible: r },
          o
        )
      : null
  );
}
var fn = i.div(cn(), function(e) {
  return !e.isVisible && dn(an());
});
function pn(e) {
  var t = e.data,
    r = n.useContext(s).addToSkillCount,
    o = n.useContext(rn).setSkillCount;
  return (
    n.useEffect(function() {
      var e = (function e(n) {
        return n.reduce(
          function(n, t) {
            var r,
              o = t.optional ? 'optional' : 'required';
            if (t.children.length > 0) {
              var i = 'optional' === o ? 1 : 0,
                l = 'required' === o ? 1 : 0,
                u = e(t.children);
              return {
                optional: n.optional + u.optional + i,
                required: n.required + u.required + l,
              };
            }
            return a({}, n, (((r = {})[o] = n[o] + 1), r));
          },
          { required: 0, optional: 0 }
        );
      })(t);
      o(e.required + e.optional), r(e);
    }, []),
    null
  );
}
function hn() {
  var e = c([
    '\n  font-family: ',
    ';\n  margin-bottom: 0;\n  min-width: 152px;\n  text-align: center;\n',
  ]);
  return (
    (hn = function() {
      return e;
    }),
    e
  );
}
function mn() {
  var e = c([
    '\n  background: ',
    ';\n  color: ',
    ";\n\n  &[data-placement^='top'] {\n    .tippy-arrow {\n      border-top-color: ",
    ';\n    }\n  }\n',
  ]);
  return (
    (mn = function() {
      return e;
    }),
    e
  );
}
function vn() {
  var e = c(['\n      transform: rotate(180deg);\n    ']);
  return (
    (vn = function() {
      return e;
    }),
    e
  );
}
function gn() {
  var e = c([
    '\n  color: ',
    ';\n  display: ',
    ';\n  font-family: ',
    ';\n  font-size: ',
    ';\n  left: 8px;\n  position: absolute;\n  transform: rotate(90deg);\n  transition: 0.15s transform ease-out;\n\n  ',
    '\n',
  ]);
  return (
    (gn = function() {
      return e;
    }),
    e
  );
}
function bn() {
  var e = c([
    '\n      background: ',
    ';\n      border: ',
    ';\n      border-radius: ',
    ';\n      cursor: pointer;\n      min-width: 300px;\n      transition: ',
    ';\n      user-select: none;\n\n      &:hover {\n        background: ',
    ';\n      }\n    ',
  ]);
  return (
    (bn = function() {
      return e;
    }),
    e
  );
}
function kn() {
  var e = c(['\n      opacity: ', ';\n    ']);
  return (
    (kn = function() {
      return e;
    }),
    e
  );
}
function xn() {
  var e = c(['\n  ', '\n  ', '\n']);
  return (
    (xn = function() {
      return e;
    }),
    e
  );
}
var Sn = require('styled-components').css;
function Cn(e) {
  var r = e.handleClick,
    i = e.collapsible,
    l = e.isVisible,
    u = e.id,
    a = e.title,
    c = e.description,
    d = e.disabled,
    s = n.useContext(o.ThemeContext).tooltipZIndex,
    f = n.useCallback(
      function(e) {
        13 === e.keyCode && r();
      },
      [r]
    );
  return t.createElement(
    wn,
    { zIndex: s, enabled: Boolean(c), content: c || '' },
    t.createElement(
      yn,
      {
        tabIndex: 0,
        onKeyDown: f,
        onPointerDown: r,
        isCollapsible: i,
        isDisabled: d,
      },
      t.createElement(
        'div',
        { style: { position: 'relative' } },
        t.createElement(En, { isCollapsible: i, isVisible: l }, '▲'),
        t.createElement(Ln, { id: u }, a)
      )
    )
  );
}
var yn = i.div(
    xn(),
    function(e) {
      return (
        e.isDisabled &&
        Sn(kn(), function(e) {
          return e.theme.disabledTreeOpacity;
        })
      );
    },
    function(e) {
      return (
        e.isCollapsible &&
        Sn(
          bn(),
          function(e) {
            return e.theme.treeBackgroundColor;
          },
          function(e) {
            return e.theme.border;
          },
          function(e) {
            return e.theme.borderRadius;
          },
          function(e) {
            return e.theme.headingHoverColorTransition;
          },
          function(e) {
            return e.theme.headingHoverColor;
          }
        )
      );
    }
  ),
  En = i.span(
    gn(),
    function(e) {
      return e.theme.headingFontColor;
    },
    function(e) {
      return e.isCollapsible ? 'inline' : 'none';
    },
    function(e) {
      return e.theme.headingFont;
    },
    function(e) {
      return e.theme.headingFontSize;
    },
    function(e) {
      return e.isVisible && Sn(vn());
    }
  ),
  wn = i(u)(
    mn(),
    function(e) {
      return e.theme.tooltipBackgroundColor;
    },
    function(e) {
      return e.theme.tooltipFontColor;
    },
    function(e) {
      return e.theme.tooltipBackgroundColor;
    }
  ),
  Ln = i.h2(hn(), function(e) {
    return e.theme.headingFont;
  });
function In(e) {
  var t = e.skills,
    r = e.treeId,
    o = n.useContext(m).addToSkillMap;
  return (
    n.useEffect(function() {
      var e = (function(e, n) {
        var t = {};
        return (
          (function n(r) {
            r.forEach(function(r) {
              r.children.length > 0 && n(r.children),
                (t[r.title.toLowerCase()] = e);
            });
          })(n),
          t
        );
      })(r, t);
      o(e);
    }, []),
    null
  );
}
function Tn(e) {
  var t = e.setVisibility,
    r = e.isVisible,
    o = e.treeId,
    i = e.disabled,
    l = n.useContext(m).filtersMatches,
    u = n.useState(!1),
    a = u[0],
    c = u[1];
  return (
    n.useEffect(
      function() {
        if (!a) return c(!0);
        if (i) return t(!1);
        if (!l) {
          if (!0 === r) return;
          return t(!0);
        }
        if (!l.has(o)) {
          if (!1 === r) return;
          return t(!1);
        }
        return !0 !== r ? t(!0) : void 0;
      },
      [l]
    ),
    null
  );
}
function Rn() {
  var e = c([
    '\n  background: ',
    ';\n  border: ',
    ';\n  border-top: ',
    ';\n  border-radius: ',
    ';\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  @media (min-width: 1200px) {\n    flex-direction: row;\n  }\n',
  ]);
  return (
    (Rn = function() {
      return e;
    }),
    e
  );
}
function qn() {
  var e = c([
    '\n  background-color: ',
    ';\n  margin: 0 8px 48px;\n  min-width: 304px;\n\n  @media (min-width: 900px) {\n    margin: 0 8px 16px;\n    padding: 16px;\n  }\n',
  ]);
  return (
    (qn = function() {
      return e;
    }),
    e
  );
}
var Nn = i.div(qn(), function(e) {
    return e.theme.backgroundColor;
  }),
  Pn = i.div(
    Rn(),
    function(e) {
      return e.theme.treeBackgroundColor;
    },
    function(e) {
      return e.theme.border;
    },
    function(e) {
      return e.isCollapsible ? '0' : 'auto';
    },
    function(e) {
      return e.theme.borderRadius;
    }
  );
(exports.SkillProvider = function(e) {
  return t.createElement(p, null, t.createElement(v, null, e.children));
}),
  (exports.SkillTree = function(e) {
    var r = e.data,
      o = e.title,
      i = e.description,
      l = e.closedByDefault,
      u = e.currentLevel,
      a = e.treeId,
      c = e.savedData,
      d = e.skillPoint,
      s = e.handleSave,
      f = e.handleNodeSelect,
      p = e.handleNodeRemove,
      h = e.collapsible,
      m = void 0 !== h && h,
      v = e.disabled,
      g = void 0 !== v && v,
      b = y(),
      k = n.useState(!l && !g),
      x = k[0],
      S = k[1],
      C = n.useCallback(
        function() {
          return S(!(g || (m && x)));
        },
        [x, g, m]
      );
    return t.createElement(
      t.Fragment,
      null,
      t.createElement(In, { treeId: a, skills: r }),
      t.createElement(Tn, {
        disabled: g,
        isVisible: x,
        setVisibility: S,
        treeId: a,
      }),
      t.createElement(
        on,
        {
          treeId: a,
          savedData: c,
          handleSave: s,
          sendNodeSelectDataToClient: f,
          sendNodeRemoveDataToClient: p,
        },
        t.createElement(pn, { data: r }),
        t.createElement(
          Nn,
          null,
          t.createElement(Cn, {
            isVisible: x,
            disabled: g,
            handleClick: C,
            collapsible: m,
            id: a,
            description: i,
            title: o,
          }),
          t.createElement(
            sn,
            { isVisible: x },
            t.createElement(
              Pn,
              { isCollapsible: m },
              r.map(function(e, n) {
                var o = r.length - 1 !== n && b;
                return t.createElement(
                  t.Fragment,
                  { key: e.id },
                  t.createElement(ln, {
                    shouldBeUnlocked: u >= e.requiredLevel,
                    currentLevel: u,
                    skill: e,
                    hasParent: !1,
                    parentPosition: 0,
                    parentHasMultipleChildren: !1,
                    skillPoint: d,
                  }),
                  t.createElement(un, { display: o })
                );
              })
            )
          )
        )
      )
    );
  }),
  (exports.SkillTreeGroup = b);
//# sourceMappingURL=beautiful-skill-tree.cjs.production.min.js.map
