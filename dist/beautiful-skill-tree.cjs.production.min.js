'use strict';
function e(e) {
  return e && 'object' == typeof e && 'default' in e ? e.default : e;
}
Object.defineProperty(exports, '__esModule', { value: !0 });
var n = require('react'),
  t = e(n),
  r = require('uuid'),
  o = require('styled-components'),
  i = e(o),
  l = require('lodash'),
  u = e(require('@tippy.js/react'));
function a() {
  return (a =
    Object.assign ||
    function(e) {
      for (var n = 1; n < arguments.length; n++) {
        var t = arguments[n];
        for (var r in t)
          Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
      }
      return e;
    }).apply(this, arguments);
}
function c(e, n) {
  return n || (n = e.slice(0)), (e.raw = n), e;
}
function d(e, n) {
  switch (n.type) {
    case 'SELECT_REQUIRED_SKILL':
      return a({}, e, {
        selectedSkillCount: {
          optional: e.selectedSkillCount.optional,
          required: e.selectedSkillCount.required + 1,
        },
      });
    case 'DESELECT_REQUIRED_SKILL':
      return a({}, e, {
        selectedSkillCount: {
          optional: e.selectedSkillCount.optional,
          required: e.selectedSkillCount.required - 1,
        },
      });
    case 'SELECT_OPTIONAL_SKILL':
      return a({}, e, {
        selectedSkillCount: {
          optional: e.selectedSkillCount.optional + 1,
          required: e.selectedSkillCount.required,
        },
      });
    case 'DESELECT_OPTIONAL_SKILL':
      return a({}, e, {
        selectedSkillCount: {
          optional: e.selectedSkillCount.optional - 1,
          required: e.selectedSkillCount.required,
        },
      });
    case 'RESET_SKILLS':
      return f;
    default:
      return e;
  }
}
require('tippy.js/dist/tippy.css'),
  require('tippy.js/animations/shift-away.css');
var s = n.createContext({
    skillCount: { required: 0, optional: 0 },
    addToSkillCount: function() {},
    selectedSkillCount: { required: 0, optional: 0 },
    dispatch: function() {
      return '';
    },
    resetId: '',
    resetSkills: function() {},
  }),
  f = { selectedSkillCount: { required: 0, optional: 0 } };
function p(e) {
  var t = e.children,
    o = n.useState(''),
    i = o[0],
    l = o[1],
    u = n.useState({ required: 0, optional: 0 }),
    a = u[0],
    c = u[1],
    p = n.useReducer(d, f),
    h = p[1];
  return n.createElement(
    s.Provider,
    {
      value: {
        skillCount: a,
        dispatch: h,
        addToSkillCount: function(e) {
          return c(function(n) {
            return {
              required: n.required + e.required,
              optional: n.optional + e.optional,
            };
          });
        },
        selectedSkillCount: p[0].selectedSkillCount,
        resetId: i,
        resetSkills: function() {
          h({ type: 'RESET_SKILLS' }), l(r.v4());
        },
      },
    },
    t
  );
}
var h = {
    backgroundColor: 'transparent',
    border: '2px solid white',
    borderRadius: '4px',
    primaryFont:
      "-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n  'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",
    primaryFontColor: 'white',
    treeBackgroundColor: '#282c34',
    disabledTreeOpacity: 0.8,
    headingFont:
      "-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",
    headingFontColor: 'white',
    headingFontSize: '24px',
    headingHoverColor: '#35373b',
    headingHoverColorTransition: 'background 0.3s ease-out',
    tooltipTitleFontSize: '20px',
    tooltipBackgroundColor: 'white',
    tooltipFontColor: '#16181c',
    tooltipZIndex: 99999,
    nodeBackgroundColor: '#282c34',
    nodeBorderColor: 'white',
    nodeAlternativeFontColor: 'white',
    nodeAltenativeActiveFontColor: 'white',
    nodeOverlayColor: 'white',
    nodeAlternativeActiveBackgroundColor:
      '\n  linear-gradient(\n    to right,\n    #b9e562 0%,\n    #41e2bd 50%,\n    #c284d8 100%\n  )',
    nodeActiveBackgroundColor:
      'linear-gradient(\n      to right,\n      #b9e562 0%,\n      #41e2bd 50%,\n      #c284d8 100%\n    )',
    nodeHoverBorder: '4px solid',
    nodeHoverBorderColor:
      'linear-gradient(\n      to right,\n      #b9e562 0%,\n      #41e2bd 50%,\n      #c284d8 100%\n    )',
    nodeIconWidth: '64px',
    nodeMobileTextNodeHeight: '40px',
    nodeMobileTextNodeWidth: '120px',
    nodeMobileFontSize: '14px',
    nodeDesktopTextNodeHeight: '40px',
    nodeDesktopTextNodeWidth: '144px',
    nodeDesktopFontSize: '16px',
    edgeBorder: '1px solid white',
  },
  m = n.createContext({
    filtersMatches: null,
    handleFilter: function() {
      return null;
    },
    addToSkillMap: function() {
      return null;
    },
  });
function g(e) {
  var t = n.useState({}),
    r = t[0],
    o = t[1],
    i = n.useState(null),
    l = i[1];
  return n.createElement(
    m.Provider,
    {
      value: {
        filtersMatches: i[0],
        handleFilter: function(e) {
          if ('' === e.trim()) return l(null);
          var n = e.toLowerCase(),
            t = Object.keys(r).filter(function(e) {
              return e.includes(n);
            }),
            o = new Set(
              t.map(function(e) {
                return r[e];
              })
            );
          return l(o);
        },
        addToSkillMap: function(e) {
          return o(function(n) {
            return a({}, n, {}, e);
          });
        },
      },
    },
    e.children
  );
}
function v() {
  var e = c([
    '\n  display: flex;\n  flex-wrap: wrap;\n  font-family: ',
    ';\n  color: ',
    ';\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  justify-content: center;\n  margin: 0 0 48px;\n  min-width: fit-content;\n',
  ]);
  return (
    (v = function() {
      return e;
    }),
    e
  );
}
function b(e) {
  var t = e.theme,
    r = e.children,
    i = n.useContext(s),
    l = i.skillCount,
    u = i.selectedSkillCount,
    c = i.resetSkills,
    d = n.useContext(m).handleFilter,
    f = n.useMemo(
      function() {
        return a({}, h, {}, t);
      },
      [t]
    );
  return n.createElement(
    o.ThemeProvider,
    { theme: f },
    n.createElement(
      k,
      null,
      r({
        skillCount: l,
        selectedSkillCount: u,
        resetSkills: c,
        handleFilter: d,
      })
    )
  );
}
b.defaultProps = { theme: h };
var k = i.div(
    v(),
    function(e) {
      return e.theme.primaryFont;
    },
    function(e) {
      return e.theme.primaryFontColor;
    }
  ),
  x = 'locked',
  C = 'unlocked',
  S = 'selected',
  E = function() {
    var e = n.useState(Infinity),
      t = e[0],
      r = e[1];
    return (
      n.useEffect(function() {
        r(window.innerWidth);
        var e = l.throttle(function() {
          r(window.innerWidth);
        }, 500);
        return (
          window.addEventListener('resize', e),
          function() {
            window.removeEventListener('resize', e);
          }
        );
      }, []),
      t < 1200
    );
  };
function y() {
  var e = c([
    '\n  border: 1px solid #79ecc7;\n  background: transparent;\n  padding: 10px;\n  color: #79ecc7;\n  transition: 0.2s;\n  width: 100%;\n  border-radius: 5px;\n\n  :hover {\n    background-color: #79ecc7;\n    cursor: pointer;\n    color: white;\n  }\n',
  ]);
  return (
    (y = function() {
      return e;
    }),
    e
  );
}
function w() {
  var e = c([
    '\n  display: flex;\n  column-gap: 30px;\n  margin: 20px 0 10px;\n',
  ]);
  return (
    (w = function() {
      return e;
    }),
    e
  );
}
function A() {
  var e = c(['\n  margin: 8px 0;\n']);
  return (
    (A = function() {
      return e;
    }),
    e
  );
}
function L() {
  var e = c(['\n  font-weight: bold;\n']);
  return (
    (L = function() {
      return e;
    }),
    e
  );
}
function I() {
  var e = c([
    '\n  font-family: ',
    ';\n  font-size: ',
    ';\n  margin: 8px 0 0;\n',
  ]);
  return (
    (I = function() {
      return e;
    }),
    e
  );
}
var B = n.memo(function(e) {
    var t = e.content,
      r = e.title,
      o = e.currentState,
      i = e.type,
      l = e.isOwner,
      u = e.handleClose,
      a = e.handleSelect,
      c = e.handleRemove,
      d = E();
    return n.createElement(
      n.Fragment,
      null,
      n.createElement(
        'div',
        { style: { display: 'flex', justifyContent: 'space-between' } },
        n.createElement(R, null, r),
        n.createElement('img', {
          onClick: u,
          style: {
            width: '16px',
            margin: '21px 4px auto 0',
            cursor: 'pointer',
          },
          src:
            "data:image/svg+xml,%3c%3fxml version='1.0' encoding='iso-8859-1'%3f%3e%3c!-- Generator: Adobe Illustrator 19.0.0%2c SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3e%3csvg version='1.1' id='Capa_1' fill='white' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 47.971 47.971' style='enable-background:new 0 0 47.971 47.971%3b' xml:space='preserve'%3e%3cg%3e %3cpath d='M28.228%2c23.986L47.092%2c5.122c1.172-1.171%2c1.172-3.071%2c0-4.242c-1.172-1.172-3.07-1.172-4.242%2c0L23.986%2c19.744L5.121%2c0.88 c-1.172-1.172-3.07-1.172-4.242%2c0c-1.172%2c1.171-1.172%2c3.071%2c0%2c4.242l18.865%2c18.864L0.879%2c42.85c-1.172%2c1.171-1.172%2c3.071%2c0%2c4.242 C1.465%2c47.677%2c2.233%2c47.97%2c3%2c47.97s1.535-0.293%2c2.121-0.879l18.865-18.864L42.85%2c47.091c0.586%2c0.586%2c1.354%2c0.879%2c2.121%2c0.879 s1.535-0.293%2c2.121-0.879c1.172-1.171%2c1.172-3.071%2c0-4.242L28.228%2c23.986z'/%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3c/svg%3e",
          alt: 'icon',
        })
      ),
      n.createElement(P, null, i, ' Skill'),
      n.createElement(T, null, t),
      l &&
        d &&
        o !== x &&
        n.createElement(
          N,
          null,
          n.createElement(O, { onClick: c }, '-1 Level'),
          n.createElement(O, { onClick: a }, '+1 Level')
        )
    );
  }),
  R = i.h1(
    I(),
    function(e) {
      return e.theme.headingFont;
    },
    function(e) {
      return e.theme.tooltipTitleFontSize;
    }
  ),
  P = i.div(L()),
  T = i.div(A()),
  N = i.div(w()),
  O = i.button(y());
function F() {
  var e = c([
    '\n  background-color: ',
    ';\n  border: ',
    ';\n  border-image-source: ',
    ';\n  border-image-slice: 1;\n  border-radius: ',
    ';\n  padding: 0 8px;\n  text-align: left;\n  width: 320px;\n\n  .tippy-backdrop {\n    background-color: ',
    ';\n  }\n',
  ]);
  return (
    (F = function() {
      return e;
    }),
    e
  );
}
function M(e) {
  var r = e.children,
    i = e.tooltip,
    l = e.title,
    u = e.type,
    a = e.isOwner,
    c = e.handleSelect,
    d = e.handleRemove,
    s = e.currentState,
    f = i.direction,
    p = void 0 === f ? 'top' : f,
    h = i.content,
    m = n.useContext(o.ThemeContext).tooltipZIndex,
    g = n.useRef(null),
    v = E(),
    b = t.useMemo(
      function() {
        return v ? 'top' : p;
      },
      [v, p]
    );
  function k() {
    if (g.current) return g.current.hide();
  }
  var x = t.useMemo(
    function() {
      return t.createElement(B, {
        handleClose: k,
        content: h,
        title: l,
        type: u,
        currentState: s,
        isOwner: a,
        handleSelect: c,
        handleRemove: d,
      });
    },
    [h, l, s, c, d, u]
  );
  return t.createElement(
    q,
    {
      interactive: !0,
      placement: b,
      onCreate: function(e) {
        g.current = e;
      },
      hideOnClick: !1,
      animation: 'shift-away',
      arrow: !1,
      appendTo: document.body,
      touch: 'hold',
      zIndex: m,
      content: x,
    },
    r
  );
}
var q = i(u)(
  F(),
  function(e) {
    return e.theme.treeBackgroundColor;
  },
  function(e) {
    return e.theme.border;
  },
  function(e) {
    return e.theme.nodeHoverBorderColor;
  },
  function(e) {
    return e.theme.borderRadius;
  },
  function(e) {
    return e.theme.treeBackgroundColor;
  }
);
function D() {
  var e = c([
    '\n  pointer-events: none;\n  height: 100%;\n  margin: auto;\n  width: 100%;\n  z-index: 2;\n  position: absolute\n',
  ]);
  return (
    (D = function() {
      return e;
    }),
    e
  );
}
function z() {
  var e = c([
    '\n  pointer-events: none;\n  height: 75%;\n  margin: auto;\n  width: 75%;\n  ',
    '\n',
  ]);
  return (
    (z = function() {
      return e;
    }),
    e
  );
}
function U() {
  var e = c(['\n  display: flex;\n']);
  return (
    (U = function() {
      return e;
    }),
    e
  );
}
var H = t.memo(function(e) {
    var n = e.src,
      r = e.title,
      o = e.currentState;
    return t.createElement(
      V,
      { 'data-testid': 'icon-container', containerWidth: e.containerWidth },
      o === x &&
        t.createElement(K, {
          src:
            'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAACKFJREFUeF7tWu1PU1kePr23pS4CQ8UWLrRloGUKCKuubCa7m+y/oR+MsYmGpEWMhugHBQpEEwnRiNCk0QRj/OC/sR9mJpvFFWGWgeGl9IWXgQBCsVJub7t5rj2dS4dx6L2lJcpJmr6dc+45z3l+z+93fueoyBdeVF/4/MkRAEcM+MIRODKBL5wARyKYVRO4evXqSH5+fpFGozmm0Wi0Wq22CAyMRCKbPM9HeJ7fDofDm0+fPj2TLWYeKAAXL178rry83JKfn69jGEZDCFExDEPw0mg04jtKLBYjPM+L73gRQuKxWIwPh8PrCwsLMy9fvvzHQQFyIABcunTpB5PJVK/VagtVKpX4jPz8fKLX60lRURGJx+NErVYTlmUJ/hYEASwQ3wOBAPnw4YNYR0QiHo9HIpFQIBAYf/Hixd8yDUTGAbh+/bq3pKTErFKpxOU1GAykoqJCXO0EFn84B0weTJifnyfLy8sUiNjq6qr/8ePHVX/YQRoVMgrAjRs35nQ6XSUmWlpaSkwmUxpD+f2qfr9fBALArK+v+x49evR1RjqGTWaqI7vdPlxVVfUXUJ7jOHHV9yqU2qB7NBoVq8AUwBD8R80ita0EhLjX6/3v0NBQUybGnjEAXC7XNsuy2r1Wfnt7m6yurpKVlZXkpBP2Lc4h1TSgFXhBN6SFgiAIQsTlch07NAC0trbO6PX66pKSElJVtdtEvV6vOPmE2kej0WhEEIQdQRCiGo1GnCHP82GWZdUsy+ap1WotwzBq/H7ixAlSXV29a560v5WVldn+/n6LUhAywgCXy8Wr1Wr1mTNnRArTMjs7S9bW1qDwW8FgcPz58+ff7mfAly9f/rfRaIQXKUgFAabz5s0beIyoy+WCa1VUMgJAd3d3/Pjx46S+vj45GPj1t2/fkp2dnfc9PT0FckbZ3t6+lZeXd/z06dNi3EDL8PCwqBcdHR2Kx6+4g+bm5lGj0dhotVpJcXFxcpDr6+tkZmaGLC4u/uR2u39FJg0kHA7HOMdxdRaLheh0umRLqgXBYHDM4/H8OY0uf1NVMQBOp3PCZDLZGhoadtHf5/OJotfe3q7oGT09PfFUbdna2iKTk5MAd3JwcLA2pwA4HI6fbDZbbU1NzS41T9A03tHR8THelVm6u7tjcK1NTb96PUSN4+PjJBgMTrjd7jqZXYvNFK0OOmhubv7x1KlTp2ACUncGAGKxWLSzs1ORUHV1dfHwCufOnUv2v7OzIwIwNzf3P4/H05BrAMbq6uoaAAD1ABCo169fQ6l5l8uVp2SALpdrh2VZzdmzZ5P9I64AAH6//0ePx9OopH/FDIAGWK1Wm81mS64QdVWxWEzo7OwUfbrc0tXVFWUYhk1lwNjY2OHQAMT/JpOpsra2NgkAQtyRkRFxJ3cQGkABXltbU7wvUMyAtra2eY7jyuvq6nbZ6OjoaEZ8NWIMaIuUARTgjY2Nhb6+vr03HfuknGIAbt26tXjy5MkyuEEqguFwWLTRTAQrFACpBsALwARCodBSb28vt8+57lktEwAs6XS6UkRrFID379+TiYkJEYBMxAEQVwBMo0EKcCgU+qW3t7cs5wAUFRWVSvcBB8GAxsZGotVqxbkeKgDa2tp+KSwsNMAN0hwf9gGIBJHV6ezslM2y8+fP/6u+vv6f6LeysjLJAMQBc3NzMIHlvr6+0pwy4M6dOxGGYfJSExlQapgAtr4IiBJB18dEn5gCUKngJpH2o+kzyUQAWhyJVMQAMC3pLhP1IITo+/79+x9pIbPIXp0LFy58X11d3UQHuNfzafZH5tiSzfbKJUoyS/zs7Ozwq1ev/i7nObIBuHv3blij0fypsLCQYLNCBwTag7KJ9La4UjQVjjp0MtLPknS4mC2mhfZJ20jT6PiMzRYEl+f5D/fu3dudPtonGrIAsNvt/6mqqmrCwKD+uSzIOQAor9c7PDQ09Nd0xyILgGvXrk0bDAYL8n945bIgdY6U2/Ly8syTJ0+s6Y5FFgCtra1eg8HwNeJ/UBZMoJSWUvtTg0ml9++1SzWbhIKKXeM/BEVTU1Mwh7n+/v60zwxkAdDS0jJdUVFhQaYmVZ3TXQGl9alLnJ+fnxkYGMgOA5xO55TRaLQCACpMSicitz0EFJliv98/PTg4WJNuP7IZYDabLWazOecMoOeJPp8vewxoaWmZMplMVhx9HQYGBINBkQEDAwPZYQBMAACAAfs98EyXmvutDyEEAD6fL3smQDUA53/SwGW/g85kPQRai4uLWdeAqYqKCisAOAwMWFpayroJTBuNRov0BHg/fpz67nRB+1Rsgf/AgEAgMDM4OJgdN+hwOEQ3WF5enkk2y+oLbhB3ByCCbrc7eyLIcZwV9wBoZJYa2Uln86ldYSobpP1I20mjTSmTAAA2RcFgMHsi6HA4fuY4rgbXX3IdCSIOwAl0IBCYcrvd36RLI1mBkNPpnC4rK7PgEgONAz61F0i14b3YslfML4376aqn/gYGAACEwlnTAACg1+stOLvPy1N08JPugv2mPtzgxsYGwXW6rAEAEzAYDDW48kYTlalasNd3JbOVaoVUG7AZCoVCZGlpKXsm0NzcPMlx3DfIBkkBUDJBuW0pAAsLCz97PB5buv3I0gC73T5iNptPI08PEHJZNjc3xVumgUDg7dDQUNpXbGUBgAm3t7dH1Wo1CzPIZYH9C4Ig9PT0yDqElQ3AzZs3lwsKCvTwAhBC6a5Q+lmaJE1NatLEKQBM3VXS/6RtUmMLZINQb2tra+Xhw4cGOQshGwA87Pbt2xu4D5yJixZyBo+sGO4RP3jw4CuZ7ZXfELly5cpocXFxGcuyxxiGYSQ+XoXj8YR6i0BLvqMqE/u4zKjDxuNx8ZAkEQ/QhUl+Fz8kLlWinSAI2+/evVt69uxZbi9JyUX+sLRTZAKHZRJKxnEEgBL0Poe2Rwz4HFZRyRyOGKAEvc+h7f8B79F7fQGHFlcAAAAASUVORK5CYII=',
          alt: 'Locked',
        }),
      t.createElement(W, { src: n, alt: r, locked: o === x })
    );
  }),
  V = i.div.attrs(function(e) {
    return {
      style: {
        height: e.containerWidth + 'px',
        width: e.containerWidth + 'px',
      },
    };
  })(U()),
  W = i.img(z(), function(e) {
    return e.locked && '\n    opacity: 0.3;\n  ';
  }),
  K = i.img(D());
function Q() {
  var e = c(['\n      color: ', ';\n    ']);
  return (
    (Q = function() {
      return e;
    }),
    e
  );
}
function j() {
  var e = c(['\n  color: ', ';\n\n  ', ';\n']);
  return (
    (j = function() {
      return e;
    }),
    e
  );
}
function J() {
  var e = c([
    '\n  font-size: ',
    ';\n  text-overflow: ellipsis;\n  margin: 0;\n  overflow: hidden;\n  padding: 0 8px;\n  white-space: nowrap;\n\n  @media (min-width: 900px) {\n    font-size: ',
    ';\n  }\n',
  ]);
  return (
    (J = function() {
      return e;
    }),
    e
  );
}
function G() {
  var e = c([
    '\n  align-items: center;\n  display: flex;\n  font-weight: 600;\n  justify-content: center;\n  height: ',
    ';\n  width: ',
    ';\n\n  @media (min-width: 900px) {\n    height: ',
    ';\n    width: ',
    ';\n  }\n',
  ]);
  return (
    (G = function() {
      return e;
    }),
    e
  );
}
function X() {
  var e = c([
    '\n  background-color: black;\n  position: absolute;\n  padding: 5px 10px;\n  border-radius: 4px;\n  font-size: 14px;\n  bottom: -15px;\n  right: -25px;\n  z-index: 99;\n\n  @media (max-width: 900px) {\n    font-size: 12px;\n    bottom: -15px;\n  }\n',
  ]);
  return (
    (X = function() {
      return e;
    }),
    e
  );
}
function Y() {
  var e = c([
    '\n  background-color: black;\n  position: absolute;\n  padding: 5px 10px;\n  border-radius: 4px;\n  font-size: 14px;\n  bottom: -10px;\n  right: -25px;\n  z-index: 99;\n\n  @media (max-width: 900px) {\n    font-size: 12px;\n    bottom: -15px;\n  }\n',
  ]);
  return (
    (Y = function() {
      return e;
    }),
    e
  );
}
function Z() {
  var e = c(['\n  width: ', ';\n']);
  return (
    (Z = function() {
      return e;
    }),
    e
  );
}
function _() {
  var e = c(['\n        background: ', ';\n      ']);
  return (
    (_ = function() {
      return e;
    }),
    e
  );
}
function $() {
  var e = c([
    '\n      animation: ',
    ' 1s infinite alternate;\n      box-shadow: 0 0 6px 0 rgba(255, 255, 255, 0.5);\n\n      &:after,\n      &:before {\n        border: 0 solid;\n        border-image-source: ',
    ";\n        border-image-slice: 1;\n        content: ' ';\n        opacity: 0;\n        height: 0;\n        transition: opacity 0.6s, width 0.6s, height 0.6s;\n        position: absolute;\n        width: 0;\n      }\n\n      &:after {\n        border-top: ",
    ';\n        border-left: ',
    ';\n        top: 0;\n        left: 0;\n      }\n\n      &:before {\n        bottom: 0px;\n        right: 0px;\n        border-bottom: ',
    ';\n        border-right: ',
    ';\n      }\n\n      &:hover,\n      &:focus {\n        animation: none;\n        box-shadow: 0 0 12px 0 rgba(255, 255, 255, 1);\n\n        &:after,\n        &:before {\n          opacity: 1;\n          height: 85%;\n          transition: width 0.6s, height 0.6s;\n          width: ',
    ';\n        }\n      }\n    ',
  ]);
  return (
    ($ = function() {
      return e;
    }),
    e
  );
}
function ee() {
  var e = c(['\n      animation: ', ' 1s 1;\n      background: ', ';\n    ']);
  return (
    (ee = function() {
      return e;
    }),
    e
  );
}
function ne() {
  var e = c([
    '\n  background: ',
    ';\n  border: 2px solid;\n  border-color: ',
    ';\n  box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0);\n  border-radius: ',
    ';\n  cursor: pointer;\n  display: flex;\n  margin: 0 3px;\n  outline: none;\n  position: relative;\n  transition: box-shadow 0.6s, opacity 1s;\n  user-select: none;\n\n  @media (min-width: 410px) {\n    margin: 0 8px;\n  }\n\n  @media (min-width: 900px) {\n    margin: 0 16px;\n    outline: initial;\n    outline-color: white;\n  }\n\n  ',
    '\n\n  ',
    '\n\n    ',
    '\n\n  ',
    '\n',
  ]);
  return (
    (ne = function() {
      return e;
    }),
    e
  );
}
function te() {
  var e = c([
    '\n  from,\n  20% {\n    box-shadow: 0 0 8px 0 rgba(255, 255, 255, 0.5);\n  }\n\n  to {\n    box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0.5);\n  }\n',
  ]);
  return (
    (te = function() {
      return e;
    }),
    e
  );
}
function re() {
  var e = c([
    '\n  from {\n    box-shadow: 0 0 18px 0 rgba(255, 255, 255, 1);\n  }\n\n  20% {\n    box-shadow: 0 0 24px 0 rgba(255, 255, 255, 1);\n  }\n\n  to {\n    box-shadow: 0 0 12px 0 rgba(255, 255, 255, 0);\n  }\n',
  ]);
  return (
    (re = function() {
      return e;
    }),
    e
  );
}
var oe = require('styled-components').keyframes,
  ie = require('styled-components').css,
  le = n.forwardRef(function(e, t) {
    var r = e.handleClick,
      o = e.handleRightClick,
      i = e.id,
      l = e.currentState,
      u = e.skill,
      a = e.learned,
      c = e.isOwner,
      d = u.color,
      s = void 0 === d ? 'default' : d,
      f = n.useState(!1),
      p = f[0],
      h = f[1],
      m = E(),
      g = n.useCallback(
        function(e) {
          13 === e.keyCode && r();
        },
        [r]
      );
    n.useEffect(function() {
      h(
        (function() {
          var e = [
            'iPad Simulator',
            'iPhone Simulator',
            'iPod Simulator',
            'iPad',
            'iPhone',
            'iPod',
          ];
          if (navigator.platform)
            for (; e.length; ) if (navigator.platform === e.pop()) return !0;
          return !1;
        })()
      );
    }, []);
    var v = function(e) {
      e.preventDefault(),
        !m && c && (0 === e.button ? r() : 2 === e.button && o());
    };
    return n.createElement(
      ce,
      {
        onClick: v,
        onContextMenu: v,
        onKeyDown: g,
        ref: t,
        tabIndex: 0,
        'data-testid': i,
        optional: u.optional || !1,
        isIOS: p,
        selected: l === S,
        unlocked: l === C,
        locked: l === x,
        color: s,
      },
      'icon' in u
        ? n.createElement(
            de,
            null,
            n.createElement(H, {
              title: 'node-icon',
              src: u.icon,
              currentState: l,
              containerWidth: 64,
            }),
            n.createElement(se, null, a, '/', u.levels.length)
          )
        : n.createElement(
            pe,
            null,
            n.createElement(
              n.Fragment,
              null,
              'default' === s
                ? n.createElement(he, null, u.title)
                : n.createElement(me, { selected: l === S }, u.title),
              n.createElement(fe, null, a, '/', u.levels.length)
            )
          )
    );
  }),
  ue = oe(re()),
  ae = oe(te()),
  ce = i.div(
    ne(),
    function(e) {
      return e.theme.nodeBackgroundColor;
    },
    function(e) {
      return e.theme.nodeBorderColor;
    },
    function(e) {
      return e.theme.borderRadius;
    },
    function(e) {
      return (
        e.selected &&
        ie(ee(), ue, function(n) {
          var t = n.theme;
          return 'default' === e.color
            ? t.nodeActiveBackgroundColor
            : t.nodeAlternativeActiveBackgroundColor;
        })
      );
    },
    function(e) {
      return (
        e.unlocked &&
        ie(
          $(),
          ae,
          function(e) {
            return e.theme.nodeHoverBorderColor;
          },
          function(e) {
            return e.theme.nodeHoverBorder;
          },
          function(e) {
            return e.theme.nodeHoverBorder;
          },
          function(e) {
            return e.theme.nodeHoverBorder;
          },
          function(e) {
            return e.theme.nodeHoverBorder;
          },
          function(e) {
            return e.isIOS ? 0 : '95%';
          }
        )
      );
    },
    function(e) {
      return (
        e.unlocked &&
        e.optional &&
        ie(_(), function(e) {
          return e.theme.nodeBackgroundColor;
        })
      );
    },
    function(e) {
      return (
        e.locked && '\n        cursor: initial;\n        opacity: 0.65;\n    '
      );
    }
  ),
  de = i.div(Z(), function(e) {
    return e.theme.nodeIconNodeWidth;
  }),
  se = i.div(Y()),
  fe = i.div(X()),
  pe = i.div(
    G(),
    function(e) {
      return e.theme.nodeMobileTextNodeHeight;
    },
    function(e) {
      return e.theme.nodeMobileTextNodeWidth;
    },
    function(e) {
      return e.theme.nodeDesktopTextNodeHeight;
    },
    function(e) {
      return e.theme.nodeDesktopTextNodeWidth;
    }
  ),
  he = i.p(
    J(),
    function(e) {
      return e.theme.nodeMobileFontSize;
    },
    function(e) {
      return e.theme.nodeDesktopFontSize;
    }
  ),
  me = i(he)(
    j(),
    function(e) {
      return e.theme.nodeAlternativeFontColor;
    },
    function(e) {
      return (
        e.selected &&
        ie(Q(), function(e) {
          return e.theme.nodeAltenativeActiveFontColor;
        })
      );
    }
  );
function ge() {
  var e = c([
    '\n  display: flex;\n  justify-content: center;\n  position: relative;\n  column-gap: 50px;\n',
  ]);
  return (
    (ge = function() {
      return e;
    }),
    e
  );
}
function ve() {
  var e = c([
    '\n  margin: 0 auto;\n  position: relative;\n  width: fit-content;\n',
  ]);
  return (
    (ve = function() {
      return e;
    }),
    e
  );
}
function be(e) {
  var n = e.skill,
    r = e.nodeState,
    o = e.currentLevel,
    i = e.learned,
    u = e.skillPoint,
    a = e.childrenLearnedState,
    c = e.isOwner,
    d = e.handleLearnedChange,
    s = e.incSkillCount,
    f = e.updateSkillState,
    p = e.handleNodeSelect,
    h =
      void 0 === p
        ? function() {
            return null;
          }
        : p,
    m = e.handleNodeRemove,
    g =
      void 0 === m
        ? function() {
            return null;
          }
        : m,
    v = n.children,
    b = n.title,
    k = n.tooltip,
    E = n.id,
    y = n.optional,
    w = n.type,
    A = t.useState(0),
    L = A[0],
    I = A[1],
    B = t.useRef(null),
    R = t.useRef(0);
  function P() {
    var e = B.current.getBoundingClientRect(),
      n = e.left,
      t = window.scrollX;
    I((e.right - n) / 2 + n + t);
  }
  function T() {
    R.current = B.current.clientWidth;
  }
  function N() {
    P(), T();
  }
  function O() {
    return r === x
      ? null
      : 0 !== u && r === C && i < n.levels.length
      ? (d(i + 1),
        i < n.levels.length - 1
          ? (h(E, C, n, i + 1), f(E, C, i + 1, y))
          : void 0)
      : void 0;
  }
  function F() {
    if (r === x) return d(0), null;
    if (i !== n.actualLearned) {
      if (r === C && i > 0)
        return (
          d(i - 1),
          0 === i
            ? (g(E, x, n, i - 1), f(E, x, i - 1, y))
            : (g(E, C, n, i - 1), f(E, C, i - 1, y))
        );
      if (r === S) {
        if (
          a &&
          a.filter(function(e) {
            return e.learned > 0;
          }).length > 0
        )
          return;
        return d(i - 1), g(E, C, n, i - 1), f(E, C, i - 1, y);
      }
    }
  }
  t.useEffect(function() {
    var e = l.throttle(N, 200);
    return (
      P(),
      T(),
      window.addEventListener('resize', e),
      function() {
        window.removeEventListener('resize', e);
      }
    );
  }, []),
    t.useEffect(
      function() {
        if (i === n.levels.length) return s(y), h(E, S, n, i), f(E, S, i, y);
      },
      [i]
    );
  var q = v.length > 1;
  return t.createElement(
    t.Fragment,
    null,
    t.createElement(
      xe,
      null,
      t.createElement(
        M,
        {
          title: b,
          tooltip: k,
          type: w,
          isOwner: c,
          handleSelect: O,
          handleRemove: F,
          currentState: r,
        },
        t.createElement(le, {
          handleClick: O,
          handleRightClick: F,
          id: E,
          isOwner: c,
          currentState: r,
          learned: i,
          skill: n,
          ref: B,
        })
      )
    ),
    v.length > 0 &&
      t.createElement(
        Ce,
        null,
        v.map(function(e) {
          return t.createElement(an, {
            key: e.id,
            hasParent: !0,
            currentLevel: o,
            parentPosition: L,
            isOwner: c,
            parentHasMultipleChildren: q,
            shouldBeUnlocked: r === S && o >= e.requiredLevel,
            skill: e,
            skillPoint: u,
          });
        })
      )
  );
}
var ke = t.memo(be),
  xe = i.div(ve()),
  Ce = i.div(ge());
function Se() {
  var e = c([
    '\n      animation: ',
    ' 1.2s 1 ease-out;\n      background-position: left bottom;\n    ',
  ]);
  return (
    (Se = function() {
      return e;
    }),
    e
  );
}
function Ee() {
  var e = c([
    '\n  background: linear-gradient(\n    to right,\n    rgba(255, 255, 255, 1) 0%,\n    rgba(255, 255, 255, 1) 50%,\n    rgba(255, 255, 255, 0) 51%,\n    rgba(255, 255, 255, 0) 100%\n  );\n  background-size: 210% 100%;\n  background-position: right top;\n  border: ',
    ';\n  height: 4px;\n  opacity: 0.5;\n  transform: rotate(90deg);\n  transform-origin: 0 0;\n  transition: opacity 0.6s;\n  width: 56px;\n\n  ',
    '\n\n  ',
    '\n',
  ]);
  return (
    (Ee = function() {
      return e;
    }),
    e
  );
}
function ye() {
  var e = c([
    '\n  from,\n  50% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n',
  ]);
  return (
    (ye = function() {
      return e;
    }),
    e
  );
}
function we() {
  var e = c([
    '\n  height: 56px;\n  left: 4px;\n  margin: 0 auto;\n  position: relative;\n  width: 4px;\n',
  ]);
  return (
    (we = function() {
      return e;
    }),
    e
  );
}
var Ae = require('styled-components').keyframes,
  Le = require('styled-components').css;
function Ie(e) {
  var n = e.state;
  return t.createElement(
    Be,
    null,
    t.createElement(Pe, {
      'data-testid': 'straight-line',
      selected: n === S,
      unlocked: n !== x,
    })
  );
}
var Be = i.div(we()),
  Re = Ae(ye()),
  Pe = i.div(
    Ee(),
    function(e) {
      return e.theme.edgeBorder;
    },
    function(e) {
      return e.selected && Le(Se(), Re);
    },
    function(e) {
      return e.unlocked && '\n      opacity: 1;\n    ';
    }
  );
function Te() {
  var e = c([
    '\n  background: linear-gradient(\n    to right,\n    rgba(255, 255, 255, 1) 0%,\n    rgba(255, 255, 255, 1) 50%,\n    rgba(255, 255, 255, 0) 51%,\n    rgba(255, 255, 255, 0) 100%\n  );\n  background-size: 210% 100%;\n  background-position: right top;\n  border: ',
    ';\n  height: 4px;\n  position: absolute;\n  opacity: 0.5;\n  transition: opacity 0.6s;\n\n  ',
    '\n',
  ]);
  return (
    (Te = function() {
      return e;
    }),
    e
  );
}
var Ne = i.div(
  Te(),
  function(e) {
    return e.theme.edgeBorder;
  },
  function(e) {
    return e.unlocked && '\n      opacity: 1;\n  ';
  }
);
function Oe() {
  var e = c([
    '\n  from,\n  33% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n',
  ]);
  return (
    (Oe = function() {
      return e;
    }),
    e
  );
}
function Fe() {
  var e = c([
    '\n      animation: ',
    ' 0.3s 1 ease-in;\n      background-position: left bottom;\n    ',
  ]);
  return (
    (Fe = function() {
      return e;
    }),
    e
  );
}
function Me() {
  var e = c([
    '\n  transform: rotate(90deg) translateY(-50%);\n  transform-origin: 0 0;\n  left: 50%;\n  top: -1px;\n  width: 29px;\n\n  ',
    '\n\n  ',
    '\n\n  ',
    '\n',
  ]);
  return (
    (Me = function() {
      return e;
    }),
    e
  );
}
var qe = require('styled-components').keyframes,
  De = require('styled-components').css;
function ze(e) {
  var n = e.state;
  return t.createElement(Ue, {
    'data-testid': 'upper-angled-line',
    direction: e.direction,
    selected: n === S,
    unlocked: n !== x,
  });
}
var Ue = i(Ne)(
    Me(),
    function(e) {
      return (
        'right' === e.direction &&
        '\n      border-bottom-right-radius: 8px;\n    '
      );
    },
    function(e) {
      return (
        'left' === e.direction && '\n      border-top-right-radius: 8px;\n    '
      );
    },
    function(e) {
      return e.selected && De(Fe(), He);
    }
  ),
  He = qe(Oe());
function Ve() {
  var e = c([
    '\n  from,\n  30% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n',
  ]);
  return (
    (Ve = function() {
      return e;
    }),
    e
  );
}
function We() {
  var e = c([
    '\n      animation: ',
    ' 1s 1;\n      background-position: left bottom;\n    ',
  ]);
  return (
    (We = function() {
      return e;
    }),
    e
  );
}
function Ke() {
  var e = c([
    '\n  border-left: none;\n  border-right: none;\n  top: 24px;\n  left: 50%;\n  width: ',
    'px;\n  transform: translateX(3px) scale(-1);\n\n  ',
    '\n\n  ',
    '\n',
  ]);
  return (
    (Ke = function() {
      return e;
    }),
    e
  );
}
var Qe = require('styled-components').keyframes,
  je = require('styled-components').css;
function Je(e) {
  var n = e.direction,
    r = e.parentPosition,
    o = e.childPosition,
    i = e.state;
  return t.createElement(Ge, {
    'data-testid': 'middle-angled-line',
    direction: n,
    unlocked: i !== x,
    selected: i === S,
    width: 'left' === n ? r - o - 6 + 5 : o - r - 6 + 5,
  });
}
var Ge = i(Ne)(
    Ke(),
    function(e) {
      return e.width;
    },
    function(e) {
      return (
        'right' === e.direction &&
        '\n      transform: translateX(-3px) scale(-1);\n      transform-origin: 0;\n  '
      );
    },
    function(e) {
      return e.selected && je(We(), Xe);
    }
  ),
  Xe = Qe(Ve());
function Ye() {
  var e = c([
    '\n  from,\n  70% {\n    background-position: right top;\n  }\n\n  to {\n    background-position: left bottom;\n  }\n',
  ]);
  return (
    (Ye = function() {
      return e;
    }),
    e
  );
}
function Ze() {
  var e = c([
    '\n        animation: ',
    ' 1.2s 1 ease-out;\n        background-position: left bottom;\n      ',
  ]);
  return (
    (Ze = function() {
      return e;
    }),
    e
  );
}
function _e() {
  var e = c([
    '\n  transform: rotate(90deg) translateY(-50%);\n  transform-origin: 0 0;\n  left: 50%;\n  top: 24px;\n  width: 31px;\n\n  ',
    '\n\n  ',
    '\n\n    ',
    '\n',
  ]);
  return (
    (_e = function() {
      return e;
    }),
    e
  );
}
var $e = require('styled-components').keyframes,
  en = require('styled-components').css;
function nn(e) {
  var n = e.state;
  return t.createElement(tn, {
    unlocked: n !== x,
    direction: e.direction,
    'data-testid': 'lower-angled-line',
    selected: n === S,
  });
}
var tn = i(Ne)(
    _e(),
    function(e) {
      return (
        'right' === e.direction &&
        '\n        border-top-left-radius: 8px;\n      '
      );
    },
    function(e) {
      return (
        'left' === e.direction &&
        '\n      border-bottom-left-radius: 8px;\n    '
      );
    },
    function(e) {
      return e.selected && en(Ze(), rn);
    }
  ),
  rn = $e(Ye());
function on(e) {
  var r = e.state,
    o = e.childNodeRef,
    i = e.parentPosition;
  if (!e.parentHasMultipleChildren) return t.createElement(Ie, { state: r });
  var u = n.useState(0),
    a = u[0],
    c = u[1],
    d = i < a ? 'right' : 'left';
  function s() {
    var e = o.current.getBoundingClientRect(),
      n = window.scrollX;
    c(e.left + e.width / 2 + n);
  }
  return (
    n.useEffect(function() {
      var e = l.throttle(s, 200);
      return (
        window.addEventListener('resize', e),
        s(),
        function() {
          window.removeEventListener('resize', e);
        }
      );
    }, []),
    t.createElement(
      'div',
      { style: { height: '56px' } },
      t.createElement(ze, { state: r, direction: d }),
      t.createElement(
        'div',
        { style: { position: 'relative' } },
        t.createElement(Je, {
          parentPosition: i,
          childPosition: a,
          state: r,
          direction: d,
        }),
        t.createElement(nn, { direction: d, state: r })
      )
    )
  );
}
var ln = n.createContext({
    mounting: !0,
    skills: {},
    skillCount: 0,
    selectedCount: 0,
    updateSkillState: function() {},
    setSkillCount: function() {},
    handleNodeSelect: function() {},
    handleNodeRemove: function() {},
    incrementSelectedCount: function() {},
    decrementSelectedCount: function() {},
  }),
  un = (function(e) {
    var t, r;
    function o(n, t) {
      var r;
      return (
        ((r = e.call(this, n, t) || this).storage = null),
        (r.getTreeSkills = function() {
          if (r.props.savedData) return r.props.savedData;
          var e = r.storage.getItem('skills-' + r.props.treeId);
          return 'undefined' === e || null === e ? {} : JSON.parse(e);
        }),
        (r.incrementSelectedCount = function(e) {
          void 0 === e && (e = !1);
          var n = {
            type: e ? 'SELECT_OPTIONAL_SKILL' : 'SELECT_REQUIRED_SKILL',
          };
          r.setState(function(e) {
            return { selectedCount: e.selectedCount + 1 };
          }),
            r.context.dispatch(n);
        }),
        (r.decrementSelectedCount = function(e) {
          void 0 === e && (e = !1);
          var n = {
            type: e ? 'DESELECT_OPTIONAL_SKILL' : 'DESELECT_REQUIRED_SKILL',
          };
          r.setState(function(e) {
            return { selectedCount: e.selectedCount - 1 };
          }),
            r.context.dispatch(n);
        }),
        (r.resetSkills = function() {
          return r.setState(function(e) {
            return {
              skills: l.mapValues(e.skills, function(e) {
                return {
                  optional: e.optional,
                  nodeState: x,
                  learned: e.learned,
                };
              }),
              resetId: r.context.resetId,
            };
          });
        }),
        (r.setSkillCount = function(e) {
          return r.setState({ skillCount: e });
        }),
        (r.handleNodeSelect = function(e, n, t, o) {
          return r.props.sendNodeSelectDataToClient({
            key: e,
            state: n,
            skill: t,
            learned: o,
          });
        }),
        (r.handleNodeRemove = function(e, n, t, o) {
          return r.props.sendNodeRemoveDataToClient({
            key: e,
            state: n,
            skill: t,
            learned: o,
          });
        }),
        (r.updateSkillState = function(e, n, t, o) {
          void 0 === o && (o = !1);
          var i = r.props,
            l = i.handleSave,
            u = i.treeId;
          return r.setState(function(i) {
            var c,
              d = a(
                {},
                i.skills,
                (((c = {})[e] = {
                  id: e,
                  optional: o,
                  nodeState: n,
                  learned: t,
                }),
                c)
              );
            return l(r.storage, u, d), { skills: d };
          });
        }),
        (r.state = {
          skills: {},
          skillCount: 0,
          selectedCount: 0,
          resetId: t.resetId,
          mounting: !0,
        }),
        r
      );
    }
    (r = e),
      ((t = o).prototype = Object.create(r.prototype)),
      (t.prototype.constructor = t),
      (t.__proto__ = r);
    var i = o.prototype;
    return (
      (i.componentDidMount = function() {
        var e = this.context;
        this.storage = this.props.storage || localStorage;
        var n = this.getTreeSkills(),
          t = 0;
        return (
          Object.keys(n).map(function(r) {
            n[r].nodeState === S &&
              (t++,
              e.dispatch({
                type: n[r].optional
                  ? 'SELECT_OPTIONAL_SKILL'
                  : 'SELECT_REQUIRED_SKILL',
              }));
          }),
          this.setState({ skills: n, selectedCount: t, mounting: !1 }),
          null
        );
      }),
      (i.componentDidUpdate = function() {
        this.context.resetId !== this.state.resetId && this.resetSkills();
      }),
      (i.render = function() {
        return n.createElement(
          ln.Provider,
          {
            value: {
              mounting: this.state.mounting,
              skills: this.state.skills,
              skillCount: this.state.skillCount,
              selectedCount: this.state.selectedCount,
              updateSkillState: this.updateSkillState,
              setSkillCount: this.setSkillCount,
              handleNodeSelect: this.handleNodeSelect,
              handleNodeRemove: this.handleNodeRemove,
              incrementSelectedCount: this.incrementSelectedCount,
              decrementSelectedCount: this.decrementSelectedCount,
            },
          },
          this.props.children
        );
      }),
      o
    );
  })(n.Component);
function an(e) {
  var r = e.skill,
    o = e.hasParent,
    i = e.parentHasMultipleChildren,
    u = e.parentPosition,
    a = e.shouldBeUnlocked,
    c = e.currentLevel,
    d = e.skillPoint,
    s = e.isOwner,
    f = n.useContext(ln),
    p = f.mounting,
    h = f.skills,
    m = f.updateSkillState,
    g = f.decrementSelectedCount,
    v = f.incrementSelectedCount,
    b = f.handleNodeSelect,
    k = f.handleNodeRemove,
    E = n.useRef(null),
    y = t.useState(r.learned),
    w = y[0],
    A = y[1],
    L = h[r.id] ? h[r.id].nodeState : 'locked',
    I = r.children.map(function(e) {
      return h[e.id];
    });
  return (
    n.useEffect(
      function() {
        A(r.learned);
      },
      [r.learned]
    ),
    n.useEffect(
      function() {
        if (!p) {
          if (L === S && !a) return m(r.id, x, r.learned, r.optional);
          if (L === C && !a)
            return A(r.learned), m(r.id, x, r.learned, r.optional);
          if (a)
            return L === x && a
              ? m(r.id, C, r.learned, r.optional)
              : L === S && a && 0 === w
              ? m(r.id, C, r.learned, r.optional)
              : void 0;
        }
      },
      [L, a, p, w, I]
    ),
    n.useEffect(
      function() {
        if (!p) return l.isEmpty(h) ? m(r.id, C, r.learned) : void 0;
      },
      [p]
    ),
    t.createElement(
      'div',
      { style: { margin: o ? '' : '16px 0' } },
      o &&
        t.createElement(on, {
          parentHasMultipleChildren: i,
          state: L,
          childNodeRef: E,
          parentPosition: u,
        }),
      t.createElement(
        'div',
        { ref: E },
        t.createElement(ke, {
          incSkillCount: n.useCallback(v, []),
          decSkillCount: n.useCallback(g, []),
          updateSkillState: m,
          currentLevel: c,
          skill: r,
          learned: w,
          skillPoint: d,
          isOwner: s,
          handleLearnedChange: function(e) {
            A(e);
          },
          nodeState: L,
          childrenLearnedState: I,
          handleNodeSelect: b,
          handleNodeRemove: k,
        })
      )
    )
  );
}
function cn(e) {
  return n.createElement(
    'div',
    { style: { height: '2px' } },
    e.display &&
      n.createElement('hr', {
        style: { margin: 0 },
        'data-testid': 'h-separator',
      })
  );
}
function dn() {
  var e = c([
    '\n      transition: transform 0.15s ease-out, opacity 0.15s ease-out,\n        max-height 0.15s ease-out, visibility 0.15s 0.15s ease-out;\n      transform: scaleY(0);\n      visibility: hidden;\n      max-height: 0;\n      width: 304px;\n      opacity: 0;\n    ',
  ]);
  return (
    (dn = function() {
      return e;
    }),
    e
  );
}
function sn() {
  var e = c([
    '\n  transition: transform 0.15s ease-out, opacity 0.15s ease-out,\n    max-height 0.15s ease-out, visibility 0.15s ease-out;\n  height: auto;\n  max-height: 10000px;\n  min-width: 304px;\n  opacity: 1;\n  overflow: hidden;\n  visibility: visible;\n  transform: scaleY(1);\n  transform-origin: top;\n\n  ',
    '\n',
  ]);
  return (
    (sn = function() {
      return e;
    }),
    e
  );
}
(un.contextType = s),
  (un.defaultProps = {
    handleSave: function(e, n, t) {
      return e.setItem('skills-' + n, JSON.stringify(t));
    },
    sendNodeSelectDataToClient: function() {
      return null;
    },
    sendNodeRemoveDataToClient: function() {
      return null;
    },
  }),
  (an.defaultProps = { hasParent: !0 });
var fn = require('styled-components').css;
function pn(e) {
  var r = e.isVisible,
    o = e.children,
    i = n.useState(r),
    l = i[0],
    u = i[1];
  return (
    n.useEffect(
      function() {
        r && u(!0);
      },
      [r, u]
    ),
    l
      ? t.createElement(
          hn,
          { 'data-testid': 'visibility-container', isVisible: r },
          o
        )
      : null
  );
}
var hn = i.div(sn(), function(e) {
  return !e.isVisible && fn(dn());
});
function mn(e) {
  var t = e.data,
    r = n.useContext(s).addToSkillCount,
    o = n.useContext(ln).setSkillCount;
  return (
    n.useEffect(function() {
      var e = (function e(n) {
        return n.reduce(
          function(n, t) {
            var r,
              o = t.optional ? 'optional' : 'required';
            if (t.children.length > 0) {
              var i = 'optional' === o ? 1 : 0,
                l = 'required' === o ? 1 : 0,
                u = e(t.children);
              return {
                optional: n.optional + u.optional + i,
                required: n.required + u.required + l,
              };
            }
            return a({}, n, (((r = {})[o] = n[o] + 1), r));
          },
          { required: 0, optional: 0 }
        );
      })(t);
      o(e.required + e.optional), r(e);
    }, []),
    null
  );
}
function gn() {
  var e = c([
    '\n  font-family: ',
    ';\n  margin-bottom: 0;\n  min-width: 152px;\n  text-align: center;\n',
  ]);
  return (
    (gn = function() {
      return e;
    }),
    e
  );
}
function vn() {
  var e = c([
    '\n  background: ',
    ';\n  color: ',
    ";\n\n  &[data-placement^='top'] {\n    .tippy-arrow {\n      border-top-color: ",
    ';\n    }\n  }\n',
  ]);
  return (
    (vn = function() {
      return e;
    }),
    e
  );
}
function bn() {
  var e = c(['\n      transform: rotate(180deg);\n    ']);
  return (
    (bn = function() {
      return e;
    }),
    e
  );
}
function kn() {
  var e = c([
    '\n  color: ',
    ';\n  display: ',
    ';\n  font-family: ',
    ';\n  font-size: ',
    ';\n  left: 8px;\n  position: absolute;\n  transform: rotate(90deg);\n  transition: 0.15s transform ease-out;\n\n  ',
    '\n',
  ]);
  return (
    (kn = function() {
      return e;
    }),
    e
  );
}
function xn() {
  var e = c([
    '\n      background: ',
    ';\n      border: ',
    ';\n      border-radius: ',
    ';\n      cursor: pointer;\n      min-width: 300px;\n      transition: ',
    ';\n      user-select: none;\n\n      &:hover {\n        background: ',
    ';\n      }\n    ',
  ]);
  return (
    (xn = function() {
      return e;
    }),
    e
  );
}
function Cn() {
  var e = c(['\n      opacity: ', ';\n    ']);
  return (
    (Cn = function() {
      return e;
    }),
    e
  );
}
function Sn() {
  var e = c(['\n  ', '\n  ', '\n']);
  return (
    (Sn = function() {
      return e;
    }),
    e
  );
}
var En = require('styled-components').css;
function yn(e) {
  var r = e.handleClick,
    i = e.collapsible,
    l = e.isVisible,
    u = e.id,
    a = e.title,
    c = e.description,
    d = e.disabled,
    s = n.useContext(o.ThemeContext).tooltipZIndex,
    f = n.useCallback(
      function(e) {
        13 === e.keyCode && r();
      },
      [r]
    );
  return t.createElement(
    Ln,
    { zIndex: s, enabled: Boolean(c), content: c || '' },
    t.createElement(
      wn,
      {
        tabIndex: 0,
        onKeyDown: f,
        onPointerDown: r,
        isCollapsible: i,
        isDisabled: d,
      },
      t.createElement(
        'div',
        { style: { position: 'relative' } },
        t.createElement(An, { isCollapsible: i, isVisible: l }, '▲'),
        t.createElement(In, { id: u }, a)
      )
    )
  );
}
var wn = i.div(
    Sn(),
    function(e) {
      return (
        e.isDisabled &&
        En(Cn(), function(e) {
          return e.theme.disabledTreeOpacity;
        })
      );
    },
    function(e) {
      return (
        e.isCollapsible &&
        En(
          xn(),
          function(e) {
            return e.theme.treeBackgroundColor;
          },
          function(e) {
            return e.theme.border;
          },
          function(e) {
            return e.theme.borderRadius;
          },
          function(e) {
            return e.theme.headingHoverColorTransition;
          },
          function(e) {
            return e.theme.headingHoverColor;
          }
        )
      );
    }
  ),
  An = i.span(
    kn(),
    function(e) {
      return e.theme.headingFontColor;
    },
    function(e) {
      return e.isCollapsible ? 'inline' : 'none';
    },
    function(e) {
      return e.theme.headingFont;
    },
    function(e) {
      return e.theme.headingFontSize;
    },
    function(e) {
      return e.isVisible && En(bn());
    }
  ),
  Ln = i(u)(
    vn(),
    function(e) {
      return e.theme.tooltipBackgroundColor;
    },
    function(e) {
      return e.theme.tooltipFontColor;
    },
    function(e) {
      return e.theme.tooltipBackgroundColor;
    }
  ),
  In = i.h2(gn(), function(e) {
    return e.theme.headingFont;
  });
function Bn(e) {
  var t = e.skills,
    r = e.treeId,
    o = n.useContext(m).addToSkillMap;
  return (
    n.useEffect(function() {
      var e = (function(e, n) {
        var t = {};
        return (
          (function n(r) {
            r.forEach(function(r) {
              r.children.length > 0 && n(r.children),
                (t[r.title.toLowerCase()] = e);
            });
          })(n),
          t
        );
      })(r, t);
      o(e);
    }, []),
    null
  );
}
function Rn(e) {
  var t = e.setVisibility,
    r = e.isVisible,
    o = e.treeId,
    i = e.disabled,
    l = n.useContext(m).filtersMatches,
    u = n.useState(!1),
    a = u[0],
    c = u[1];
  return (
    n.useEffect(
      function() {
        if (!a) return c(!0);
        if (i) return t(!1);
        if (!l) {
          if (!0 === r) return;
          return t(!0);
        }
        if (!l.has(o)) {
          if (!1 === r) return;
          return t(!1);
        }
        return !0 !== r ? t(!0) : void 0;
      },
      [l]
    ),
    null
  );
}
function Pn() {
  var e = c([
    '\n  background: ',
    ';\n  border: ',
    ';\n  border-top: ',
    ';\n  border-radius: ',
    ';\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  @media (min-width: 1200px) {\n    flex-direction: row;\n  }\n',
  ]);
  return (
    (Pn = function() {
      return e;
    }),
    e
  );
}
function Tn() {
  var e = c([
    '\n  background-color: ',
    ';\n  margin: 0 8px 48px;\n  min-width: 304px;\n\n  @media (min-width: 900px) {\n    margin: 0 8px 16px;\n    padding: 16px;\n  }\n',
  ]);
  return (
    (Tn = function() {
      return e;
    }),
    e
  );
}
var Nn = i.div(Tn(), function(e) {
    return e.theme.backgroundColor;
  }),
  On = i.div(
    Pn(),
    function(e) {
      return e.theme.treeBackgroundColor;
    },
    function(e) {
      return e.theme.border;
    },
    function(e) {
      return e.isCollapsible ? '0' : 'auto';
    },
    function(e) {
      return e.theme.borderRadius;
    }
  );
(exports.SkillProvider = function(e) {
  return t.createElement(p, null, t.createElement(g, null, e.children));
}),
  (exports.SkillTree = function(e) {
    var r = e.data,
      o = e.title,
      i = e.description,
      l = e.closedByDefault,
      u = e.currentLevel,
      a = e.treeId,
      c = e.savedData,
      d = e.skillPoint,
      s = e.isOwner,
      f = e.handleSave,
      p = e.handleNodeSelect,
      h = e.handleNodeRemove,
      m = e.collapsible,
      g = void 0 !== m && m,
      v = e.disabled,
      b = void 0 !== v && v,
      k = E(),
      x = n.useState(!l && !b),
      C = x[0],
      S = x[1],
      y = n.useCallback(
        function() {
          return S(!(b || (g && C)));
        },
        [C, b, g]
      );
    return t.createElement(
      t.Fragment,
      null,
      t.createElement(Bn, { treeId: a, skills: r }),
      t.createElement(Rn, {
        disabled: b,
        isVisible: C,
        setVisibility: S,
        treeId: a,
      }),
      t.createElement(
        un,
        {
          treeId: a,
          savedData: c,
          handleSave: f,
          sendNodeSelectDataToClient: p,
          sendNodeRemoveDataToClient: h,
        },
        t.createElement(mn, { data: r }),
        t.createElement(
          Nn,
          null,
          t.createElement(yn, {
            isVisible: C,
            disabled: b,
            handleClick: y,
            collapsible: g,
            id: a,
            description: i,
            title: o,
          }),
          t.createElement(
            pn,
            { isVisible: C },
            t.createElement(
              On,
              { isCollapsible: g },
              r.map(function(e, n) {
                var o = r.length - 1 !== n && k;
                return t.createElement(
                  t.Fragment,
                  { key: e.id },
                  t.createElement(an, {
                    shouldBeUnlocked: u >= e.requiredLevel,
                    currentLevel: u,
                    skill: e,
                    hasParent: !1,
                    parentPosition: 0,
                    isOwner: s,
                    parentHasMultipleChildren: !1,
                    skillPoint: d,
                  }),
                  t.createElement(cn, { display: o })
                );
              })
            )
          )
        )
      )
    );
  }),
  (exports.SkillTreeGroup = b);
//# sourceMappingURL=beautiful-skill-tree.cjs.production.min.js.map
